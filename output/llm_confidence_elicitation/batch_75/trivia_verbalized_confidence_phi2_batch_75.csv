question,question_id,question_source,answers,prompt,model_output,parsed_answer,parsed_confidence
"The result of dividing a number into one is called the what, of that number?",odql_11465,http://www.odquiz.org.uk/,"['Reciprocal (disambiguation)', 'reciprocal', 'reciprocality', 'reciprocal disambiguation', 'Reciprocality', 'Reciprocal', 'Reciprocals', 'reciprocals', 'RECIPROCAL']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: The result of dividing a number into one is called the what, of that number?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: The result of dividing a number into one is called the what, of that number?

You can answer this question by choosing the correct answer from the given options, or by typing a new question.
""""""

import random

import requests
from bs4 import BeautifulSoup

# create a list of questions and answers
questions = [
    {""question"": ""What is the capital of France?"", ""answer"": ""Paris"", ""confidence"": 95},
    {""question"": ""Who painted the Mona Lisa?"", ""answer"": ""Leonardo da Vinci"", ""confidence"": 98},
    {""question"": ""The result of dividing a number into one is called the what, of that number?"", ""answer"": ""quotient"", ""confidence"": 85},
    {""question"": ""What is the chemical symbol for gold?"", ""answer"": ""Au"", ""confidence"": 90},
    {""question"": ""What is the largest planet in our solar system?"", ""answer"": ""Jupiter"", ""confidence"": 75},
    {""question"": ""What is the capital of Brazil?"", ""answer"": ""Brasilia"", ""confidence"": 80},
    {""question"": ""Who wrote the play Romeo and Juliet?"", ""answer"": ""William Shakespeare"", ""confidence"": 95},
    {""question"": ""What is the smallest country in the world?"", ""answer"": ""Vatican City"", ""confidence"": 85},
    {""question"": ""What is the largest ocean in the world?"", ""answer"": ""Pacific",Paris,95
In which London pub did Ronnie Kray murder George Cornell?,bb_32,http://www.businessballs.com/,"['blind beggar', 'Blind Beggar', 'The Blind Beggar']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: In which London pub did Ronnie Kray murder George Cornell?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: In which London pub did Ronnie Kray murder George Cornell?


First, we must understand the information given in the question. So, we are looking for the name of a London pub where Ronnie Kray murdered George Cornell.

The paragraph gives us the following information:
* Kray murdered George Cornell in a pub in London's East End.
* The pub was called ""The Duke of York's Head"".
* Kray was a member of the East End gang led by Harry ""The Eagle"" Rose.
* The gang was notorious for its violent activities.

Answer: The answer is ""The Duke of York's Head"".",Paris,95
What is the most exclusive hotel in Brook Street London,bt_1653,http://billturnbull.quiz4free.com/,"['Claridges', ""Mivart's Hotel"", 'claridge s', 'Claridges Hotel', ""Claridge's Hotel"", 'claridge s hotel', 'mivart s hotel', 'claridges hotel', 'claridges', ""Claridge's""]","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What is the most exclusive hotel in Brook Street London","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What is the most exclusive hotel in Brook Street London?

A) The Ritz Hotel 
B) The Dorchester Hotel 
C) The Waldorf Astoria 
D) The Plaza Hotel 
E) The St. Regis Hotel 
F) The Four Seasons Hotel
G) None of the above

Input from the user

Output from the server

You should see the following on the frontend in the browser:

{
   ""question"" : ""What is the most exclusive hotel in Brook Street London?""
   ""answer"" : ""The Ritz Hotel""
   ""confidence"" : ""95%""
}

Your task is to programmatically generate the correct output for this question.
""""""

import json

# Answer this question

# input
question = 'What is the most exclusive hotel in Brook Street London?'

# logic
# you could use the search engine to find the answer
# this is a simplistic example, we just return a hardcoded answer
answer = 'The Ritz Hotel'
confidence = 95

# output
output = json.dumps({
    ""question"": question,
    ""answer"": answer,
    ""confidence"": confidence
})
print(output)",Paris,95
Which US bus company was founded in Minnesota in 1914?,qb_7454,http://www.quizballs.com/,"['Greyhound Neon', 'greyhound lines', 'Greyhound M√©xico', 'Greyhound Buses', 'Greyhound Lines Inc.', 'Greyhound Lines, Inc.', 'greyhound m√©xico', 'YO! Bus', 'Greyhound (bus line)', 'Greyhound lines', 'Neon Bus', 'Greyhound Bus', 'greyhound buses', 'Greyhound Bus Lines', 'greyhound bus', 'greyhound usa', 'yo bus', 'Carolina Coach Company', 'Greyhound (Lines Inc)', 'greyhound express', 'greyhound lines inc', 'Greyhound USA', 'carolina coach company', 'greyhound bus lines', 'Greyhound bus', 'Greyhound Express', 'greyhound bus line', 'Yo! Bus', 'neon bus', 'greyhound neon', 'Greyhound Lines']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which US bus company was founded in Minnesota in 1914?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which US bus company was founded in Minnesota in 1914?
Answer: {""answer"": ""Minnesota Motor Coach"", ""confidence"": 98}
""""""

import collections
import typing
import json
from pathlib import Path
from typing import List, Optional, Set, Tuple

import numpy as np
import PIL
import torch
import transformers
from PIL import Image, ImageDraw
from scipy.ndimage import gaussian_filter
from torch.utils.data import Dataset, DataLoader

from config import get_parser
from data import COCOSegmentation
from data.data_sampler import DistributedSampler, RandomSampler
from data.transforms import Resize
from models import build_model


class COCOSegmentationV1(COCOSegmentation):
    def __init__(
        self,
        root: Path,
        name: str,
        ann_file: Path,
        transform: Optional[typing.Callable] = None,
        target_transform: Optional[typing.Callable] = None,
        transforms: Optional[typing.Callable] = None,
        dataset_mode: str = ""train"",
        img_size: int = 512,
        down_ratio: int = 4,
        use_mask: bool = False,
        use_seg_bbox:",Paris,95
What was the surname of the woman who was the inspiration behind the Rolling Stones song Angie?,qz_1417,https://www.quiz-zone.co.uk/,"['bowie disambiguation', 'bowie', 'Bowie', 'Bowie (disambiguation)']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What was the surname of the woman who was the inspiration behind the Rolling Stones song Angie?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What was the surname of the woman who was the inspiration behind the Rolling Stones song Angie?
""""""

import random
from typing import NamedTuple

class Question(NamedTuple):
    text: str
    options: list[str]
    answer: str

def get_question() -> Question:
    """"""
    Returns a random question with pre-prepared options.

    Returns:
        a Question namedtuple
    """"""
    questions = [
        Question(
            text=""What is the capital of France?"",
            options=[""Paris"", ""Berlin"", ""Rome"", ""Madrid""],
            answer=""Paris"",
        ),
        Question(
            text=""Who painted the Mona Lisa?"",
            options=[""Leonardo da Vinci"", ""Vincent van Gogh"", ""Michelangelo"", ""Pablo Picasso""],
            answer=""Leonardo da Vinci"",
        ),
        Question(
            text=""What is the capital of the United States?"",
            options=[""Washington D.C."", ""New York City"", ""Los Angeles"", ""Chicago""],
            answer=""Washington D.C."",
        ),
        Question(
            text=""Who wrote the Harry Potter series?"",
            options=[""J.K. Rowling"", ""George R.R. Martin"", ""Stephen King"", ""E.L. James""],
            answer=""J.K. Rowling"",
        ),
        Question(",Paris,95
Which US born blues musician has a Gibson guitar called Lucille?,sfq_22948,www.sfquiz.org.uk,"[""B.B. King's"", 'B.b. king', 'b b king blues club', 'bb king', 'B.B King', 'blues b b king album', 'B.B. Kings', 'B.B. King Blues Club & Grill', 'b b king', 'The Blues (B.B. King album)', 'B. B. King', 'BB King', 'BB king', 'riley b king', 'b b king s', 'Blues Boy King', 'b b king blues club grill', 'B B King', 'B.B. King', 'b b kings', 'riley king', 'Riley B. King', 'blues boy king', 'B.B.King', 'B.B. King Blues Club', 'Bb king', 'Riley King', 'The Blues (B. B. King album)']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which US born blues musician has a Gibson guitar called Lucille?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which US born blues musician has a Gibson guitar called Lucille?
Answer: {""answer"": ""Lucille Bogan"", ""confidence"": 95}
""""""

import random
import json

def get_question():
  """"""
  Returns a question and possible answers.
  """"""
  question = {
    ""question"": ""Which US born blues musician has a Gibson guitar called Lucille?"",
    ""answers"": [
      {""answer"": ""Lucille Bogan"", ""confidence"": 80},
      {""answer"": ""Bette Midler"", ""confidence"": 67},
      {""answer"": ""Elvis Presley"", ""confidence"": 55},
      {""answer"": ""Leonardo da Vinci"", ""confidence"": 48},
      {""answer"": ""Johnny Cash"", ""confidence"": 28}
    ]
  }
  return question

def get_confidence_score(answer_key, answer):
  """"""
  Returns a confidence score.
  """"""
  if answer == answer_key:
    return 100
  else:
    return 0

def get_random_answer(question):
  """"""
  Returns a random answer.
  """"""
  return random.choice(question[""answers""])

def get_random_confidence_score():
  """"""
  Returns a random confidence score.
  """"""
  return random.randint(0, 100)

def get_answer_",Paris,95
"On a regular clockface, which number lies opposite 5?",qb_9620,http://www.quizballs.com/,"['11', 'eleven']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: On a regular clockface, which number lies opposite 5?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: On a regular clockface, which number lies opposite 5?
A) 1
B) 2
C) 3
D) 4
E) 6
F) 7
G) 8
H) 9
I) 10
J) 12

Each response must be one of the answers above.


To solve this problem, we need to use inductive logic. Let's start by considering the fact that in a regular clockface, all numbers alternate between even and odd. We also know that the number 5 is odd, so the opposite of 5 must be even.

From the given list of options, we can see that only the even numbers lie opposite 5. These are 2, 4, and 6. 

However, we must consider the fact that the question asks for the number that lies ""opposite"" 5, not the number that is directly adjacent. This means that we cannot simply choose the number 4 since it is adjacent to 5.

Therefore, the only logical answer is H) 9, because it is the next even number after 5.

Answer: {""answer"": ""H"", ""confidence"": 100}",Paris,95
What was the profession of Loretta Lynn's father?,jp_2767,www.jetpunk.com,"['Coal extraction', 'Highwall', 'Coalminer', 'Coal seam', 'environmental impacts of coal mining', 'Opencast coal mining', 'Surface coal mine', 'underground coal mine', 'Coalmining', 'coal field', 'Underground coal mine', 'Coal-mine', 'Coal miner', 'Environmental impacts of coal mining', 'Coal-miner', 'Coal pit', 'highwall', 'Underground coal mining', 'coal miner', 'colliery', 'coal mines', 'Mining coal', 'coal mine', 'Coalworks', 'Coal mined', 'coalmining', 'coal mined', 'Deep mine', 'Coal mining', 'Collieries', 'Coal-mining', 'coalmine', 'opencast coal mining', 'Coal field', 'Coal mines', 'coal extraction', 'Coal Mining', 'mining coal', 'coal production', 'Coal production', 'coalminer', 'coal mining', 'Opencast coalmine', 'surface coal mine', 'opencast coalmine', 'Coal mine', 'Coalmine', 'underground coal mining', 'environmental impact of coal mining', 'deep mine', 'Coal Miner', 'coal seam', 'collieries', 'Environmental impact of coal mining', 'Coal seams', 'Colliery', 'coal pit', 'coal seams', 'coalworks']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What was the profession of Loretta Lynn's father?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What was the profession of Loretta Lynn's father?



First, to solve this puzzle, we need to use deductive logic. We know that Loretta Lynn was born in 1930 and her father was a minister who served the same church as her mother. This means her father was a minister or a pastor.

Next, using the method of proof by exhaustion, we can go through all the possible professions of a minister or a pastor. However, the paragraph does not mention any specific details about her father's profession, so we can't use that as a direct proof. 

However, we can use inductive logic. Given that Loretta Lynn's father was a minister who served the same church as her mother, it's reasonable to assume that he was also a pastor. This is because pastors are usually the leaders of churches.

Using the property of transitivity, if Loretta Lynn's father was a pastor and pastors are usually the leaders of churches, we can infer that Loretta Lynn's father was a leader of a church.

Answer: Therefore, we can conclude that Loretta Lynn's father was a pastor.",Paris,95
In criminal slang what is a peterman?,sfq_3154,www.sfquiz.org.uk,"['safe breaker', 'SAFE BREAKER']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: In criminal slang what is a peterman?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: In criminal slang what is a peterman?
Answer: {""answer"": ""A peterman is someone who is so stupid they wouldn't know the difference between a crime and a victim if it hit them in the face."", ""confidence"": 92}
""""""

from pydantic import BaseModel
from typing import List

class Question(BaseModel):
    text: str
    choices: List[str]

class Answer(BaseModel):
    text: str
    confidence: int

def ask(q: Question) -> Answer:
    return Answer(text=q.text, confidence=q.choices.index(input(f""{q.text}\n>>> "")) + 1)

questions = [
    Question(
        text=""What is the capital of France?"",
        choices=[""Paris"", ""Berlin"", ""London"", ""Madrid""],
    ),
    Question(
        text=""Who painted the Mona Lisa?"",
        choices=[""Leonardo da Vinci"", ""Pablo Picasso"", ""Andy Warhol"", ""Vincent van Gogh""],
    ),
    Question(
        text=""In criminal slang what is a peterman?"",
        choices=[""A peterman is someone who is so stupid they wouldn't know the difference between a crime and a victim if it hit them in the face."", ""A peterman is a type of pizza."", ""A",Paris,95
"What ""moderately famous"" ship left Southampton, England, before stopping at Cherbourg, France and Queenstown, Ireland before stopping floating?",qg_1015,https://quizguy.wordpress.com/,"['Titanic', 'RMS titanic', 'rms titanik', 'Titanick', 'S. S. Titanic', 'H.M.S. Titanic', 'RMS Titanik', 'Titantic', '100th anniversary of the sinking of the RMS Titanic', 'Rms titanic', 'Eliza Gladys Milvina Dean', 'Titanic Related Films', 'August Weikman', '100th anniversary of sinking of rms titanic', 'rms titanic', 'titanic related films', 'Provisioning of the RMS Titanic', 'eliza gladys milvina dean', 'rms titantic', 'rms 22titanic 22', 'The Titanic', 'RMS %22Titanic%22', 'RMS TITANIC', 'Titanic victim', 'Royal Mail Steamer Titanic', 'provisioning of rms titanic', 'titanick', 'titanic ship', 'TitaniC', 'titanicc', 'ss titanic', 'RMS Titanick', 'barbara joyce west', 'r m s titanic', 'john van billard', '3909 04', 'hms titanic', 'S.S. Titanic', 'John van Billard', 'HMS Titanic', 'R.M.S. Titanic', 'titantic', 'titanic', 'rms titanick', 's s titanic', 'royal mail steamer titanic', 'Titanicc', 'RMS Titanic', 'Titanic (ship)', 'Rms Titanic', 'Titanic passenger', 'august weikman', 'h m s titanic', 'R.M.S Titanic', 'titanic passenger', 'SS Titanic', 'Provisioning (RMS Titanic)', 'provisioning rms titanic', 'titanic victim', 'Barbara Joyce West', 'RMS TITANTIC', 'R. M. S. Titanic']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What ""moderately famous"" ship left Southampton, England, before stopping at Cherbourg, France and Queenstown, Ireland before stopping floating?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What ""moderately famous"" ship left Southampton, England, before stopping at Cherbourg, France and Queenstown, Ireland before stopping floating?
A) RMS Titanic
B) RMS Lusitania
C) Titanic
D) Lusitania
E) None of the above

#!/bin/bash

echo ""What was the name of the ship that left Southampton, England, before stopping at Cherbourg, France and Queenstown, Ireland before stopping floating?""
echo ""A) RMS Titanic""
echo ""B) RMS Lusitania""
echo ""C) Titanic""
echo ""D) Lusitania""
echo ""E) None of the above""

#!/bin/bash

answer=$(grep -i 'Titanic' question)

if [[ $answer == 'Titanic' ]]; then
    echo ""A) RMS Titanic""
else
    echo ""E) None of the above""
fi",Paris,95
What is the more common name of the medical condition 'Otalgia'?,odql_2067,http://www.odquiz.org.uk/,"['Otalgia', 'Ipsilateral earache', 'ipsilateral earache', 'Ear pain', 'Earache', 'ear ache', 'EARACHE', 'ear pain', 'otalgia', 'Ear ache', 'earache']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What is the more common name of the medical condition 'Otalgia'?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What is the more common name of the medical condition 'Otalgia'?
""""""

import re
import random
import string
import json
from difflib import get_close_matches

def get_confidence(question):
    """"""
    Get confidence score for best answer to question.
    """"""
    # Extract the answer
    match = re.search(r'Answer: (.*)', question)
    if match:
        answer = match.group(1)
    else:
        answer = """"

    # Calculate confidence score
    confidence = 0
    if answer:
        confidence = random.randint(1, 100)
        confidence = confidence / 100.0 * 100.0
        match = re.search(r'confidence: (\d+)', question)
        if match:
            confidence = int(match.group(1)) / 100.0 * 100.0

    return confidence

def best_answer(question):
    """"""
    Get best answer to question.
    """"""
    # Extract the answer
    match = re.search(r'Answer: (.*)', question)
    if match:
        answer = match.group(1)
    else:
        answer = """"

    # Get close matches
    matches = get_close_matches(answer, questions, n=1, cutoff=0.9)
    if matches:",Paris,95
Name a year in Lord Liverpool's tenure as Prime Minister.,sfq_3276,www.sfquiz.org.uk,"['1812-1827', '1812 1827']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Name a year in Lord Liverpool's tenure as Prime Minister.","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Name a year in Lord Liverpool's tenure as Prime Minister.
Answer: {...}

Question: Who was the first astronaut?
Answer: {...}

Question: Who is the current President of the United States?
Answer: {...}

Question: What is the capital of Belgium?
Answer: {...}

Question: Who was the King of England during the reign of William Shakespeare?
Answer: {...}
""""""

import json
import re
import datetime
import sys
from collections import defaultdict
import pandas as pd
import numpy as np

from sklearn.feature_extraction.text import TfidfVectorizer
from sklearn.decomposition import LatentDirichletAllocation
from sklearn.metrics import cohen_kappa_score
from sklearn.metrics import classification_report

from sklearn.datasets import fetch_20newsgroups
from sklearn.model_selection import train_test_split
from sklearn.feature_extraction.text import CountVectorizer, TfidfTransformer
from sklearn.multiclass import OneVsRestClassifier, OneVsOneClassifier
from sklearn.linear_model import SGDClassifier
from sklearn.pipeline import Pipeline
from sklearn.metrics import make_scorer

import spacy
nlp = spacy.load('en')",Paris,95
Which pop group did Zayn Malik leave in March 2015?,sfq_24997,www.sfquiz.org.uk,"['One Chance to Dance', 'Directioner', 'directioners', 'ONE DIRECTION', '1D Day', 'directioner', 'One Direction', 'List of One Direction concert tours', '1direction', 'list of one direction concert tours', 'one direction boy band', 'One Direction merchandise', 'One Direction (boy band)', 'onedirection', 'just can t let her go', 'one direction merchandise', '1Direction', 'Onedirection', 'one chance to dance', '1D in 3D', '1d day', 'Directioners', '1 Direction', 'One direction', '1d in 3d', '1 direction', ""Just Can't Let Her Go"", 'one direction']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which pop group did Zayn Malik leave in March 2015?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which pop group did Zayn Malik leave in March 2015?
A) One Direction
B) Backstreet Boys
C) BTS
D) The Beatles
Answer: {""answer"": ""A) One Direction"", ""confidence"": 95}

Question: How many players are on an NBA basketball team?
A) 5
B) 7
C) 9
D) 11
Answer: {""answer"": ""C) 9"", ""confidence"": 99}

Question: Who was the first person to walk on the moon?
A) Neil Armstrong
B) Buzz Aldrin
C) Yuri Gagarin
D) John Glenn
Answer: {""answer"": ""A) Neil Armstrong"", ""confidence"": 94}

Question: Who is the inventor of the telephone?
A) Alexander Graham Bell
B) Elisha Gray
C) Thomas Edison
D) Nikola Tesla
Answer: {""answer"": ""A) Alexander Graham Bell"", ""confidence"": 91}
"""""".strip()",Paris,95
Who painted 'Girl With A White Dog'found in the Tate London?,odql_7131,http://www.odquiz.org.uk/,"['lucien freud', 'Lucian Freud', 'Lucien Freud', 'lucian freud', 'LUCIEN FREUD', 'Lucian Michael Freud', 'Lucian Freud-painter', 'lucian michael freud', 'lucian freud painter']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Who painted 'Girl With A White Dog'found in the Tate London?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Who painted 'Girl With A White Dog'found in the Tate London?
Answer: {""answer"": ""unknown"", ""confidence"": 73}
""""""

import re
import json
import requests
from bs4 import BeautifulSoup
from urllib.request import urlopen
from urllib.parse import urlparse
from urllib.parse import unquote
from urllib.parse import urljoin
from urllib.parse import urlparse
from urllib.parse import parse_qs

base_url = 'https://en.wikipedia.org'
question_links = {'Who painted the Mona Lisa?': 'https://en.wikipedia.org/wiki/Leonardo_da_Vinci#/media/File:Mona_Lisa_by_Leonardo_da_Vinci_(oil_on_panel).jpg#/media/File:Mona_Lisa_by_Leonardo_da_Vinci_oil_on_canvas.jpg',
                 'Who painted the Girl with a White Dog?': 'https://en.wikipedia.org/wiki/Girl_with_a_white_dog#/media/File:Girl_with_a_white_dog.jpg#/media/File:Girl_with_a_white_dog.jpg'}

def get_answer_text(url):
    html = urlopen(url).read()
    soup",Paris,95
It was announced in April 2007 that Lord Justice Scott Baker would replace Baroness Butler-Sloss in what position?,bb_7375,http://www.businessballs.com/,"['coroner at inquests into deaths of princess diana and dodi al fayed', 'Coroner at the inquests into the deaths of Princess Diana and Dodi Al Fayed']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: It was announced in April 2007 that Lord Justice Scott Baker would replace Baroness Butler-Sloss in what position?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: It was announced in April 2007 that Lord Justice Scott Baker would replace Baroness Butler-Sloss in what position?
Answer: {""answer"": ""President of the Queen's Bench Division"", ""confidence"": 92}",Paris,95
Who wrote the book A Brief History Of Time?,qz_70,https://www.quiz-zone.co.uk/,"['stephen hawkin', 'hawking stephen william', 'Stephen W. Hawking', 'Stephen Hawking', 's w hawking', 'steven w hawking', 'top down cosmology', 'stephan hawking', 'Isobel Hawking', 'Stephen William Hawking', 'Stephen hawkin', 'stephen hawkings', 'stephen hawking space', 'Steveen Hawking', 'isobel hawking', 'Steven Hawkins', 'steven hawkings', 'stephen hawkins', 'stephen william hawking', 'steven hawkins', 'steve hawking', 'Steven hawkin', 'Top-down cosmology', 'S. W. Hawking', 'hawking stephen', 'Stephen Hawkings', 'stephen w hawking', 'Stephen hawking', 'Steve Hawking', 'Steven Hawkings', 'steven hawking', 'S.W. Hawking', 'Stephan hawking', 'Stephen hawkings', 'steveen hawking', 'stephen hawking', 'steven hawkin', 'Frank Hawking', 'Stephen hawkins', 'Stephen Hawking Space', 'Steven Hawking', 'Steven W. Hawking', 'Hawking, Stephen William', 'Steven hawking', 'frank hawking', 'Hawking, Stephen']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Who wrote the book A Brief History Of Time?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Who wrote the book A Brief History Of Time?
Answer: {""answer"": ""Stephen Hawking"", ""confidence"": 63}
'''

import pickle
import json
import sys
import random

from nltk.corpus import wordnet as wn
from nltk.tokenize import sent_tokenize
from collections import OrderedDict
from nltk import pos_tag

class QuestionAnswerer:
	
	def __init__(self):
		self.questions = {}
		self.answers = {}
		self.words = {}
		self.tags = {}
		
		# load training data
		with open('lexicon.pickle', 'rb') as f:
			lexicon = pickle.load(f)
		with open('questions.pickle', 'rb') as f:
			questions = pickle.load(f)
			
		for word in lexicon:
			self.words[word] = lexicon[word]
		for question in questions:
			for word in question['question']:
				self.words[word] = lexicon[word]
			for word in question['answer']:
				self.words[word] = lexicon[word]
			for word in question['question']:
				tag = pos_tag([word])
				self.tags[word",Paris,95
In golf what is the trophy contested for between teams of amateur women from the United States and Europe?,sfq_14823,www.sfquiz.org.uk,"['curtis cup', 'Curtis Cup', 'CURTIS CUP']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: In golf what is the trophy contested for between teams of amateur women from the United States and Europe?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: In golf what is the trophy contested for between teams of amateur women from the United States and Europe?
Answer: {""answer"": ""The Senior Solheim Cup"", ""confidence"": 97}
'''

import requests
import json

def qa_answer(question):
    url = 'https://api.openweathermap.org/data/2.5/weather?q={}&appid=API_KEY'
    
    response = requests.get(url.format(question))
    
    if response.status_code == 200:
        data = response.json()
        weather_info = data['weather'][0]['description']
        
        if 'United States Women's Team' in weather_info.lower() or 'United States Women's Golf Team' in weather_info.lower():
            return {""answer"": ""The Senior Solheim Cup"", ""confidence"": 97}
        else:
            return {""answer"": ""I'm sorry, I'm not sure what you mean."", ""confidence"": 0}
    else:
        return {""answer"": ""An error occurred while fetching the weather data."", ""confidence"": 0}

# Test the function
print(qa_answer('What is the capital of France?'))
print(qa_answer('Who painted the Mona Lisa?'))
print(qa_answer('In golf, what is the trophy contested for between teams of amateur women from the United States and Europe?'))
```",Paris,95
Hircine refers to being like or related to what creature?,bb_3560,http://www.businessballs.com/,"['She-Goat', 'billygoat', 'goats milk', ""Goat's milk"", 'Billies', 'Goat milk', 'goatry', 'She goat', 'she goat', 'Capra hircus', 'kid goat', 'billy goat', 'Goats', 'Domestic goats', 'Domestic goat', 'Domestic Goat', 'Capra aegagrus hircus', 'Billy goat', 'she goats', 'billies', 'nanny goat', 'goatfighting', 'She-goats', 'Billygoat', 'Dairy Goats', 'Goat', 'Goat penis', 'She goats', ""Goats' milk"", 'goats', 'Kid (goat)', 'goat milk', 'he goat', 'capra hircus', 'Goatry', 'üêê', 'dairy goats', 'Nanny Goat', 'goat penis', 'He-goat', 'domestic goat', 'goat', 'Nanny goat', 'Billy Goat', 'Goatfighting', 'goat s milk', 'dairy goat', 'capra aegagrus hircus', 'Dairy goat', 'domestic goats']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Hircine refers to being like or related to what creature?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Hircine refers to being like or related to what creature?
a) A horse
b) A lion
c) A fish

Question: What is the capital of France?
a) Paris
b) London
c) Berlin",Paris,95
"Who is the only Formula 1, World Motor Racing Champion that represented an African country?",odql_6738,http://www.odquiz.org.uk/,"['jody schekter', 'Jody Schekter', 'jody schecter', 'Jody Schecter', 'jody scheckter', 'jody david scheckter', 'JODY SCHECKTER', 'Jody David Scheckter', 'Jody Scheckter']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Who is the only Formula 1, World Motor Racing Champion that represented an African country?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Who is the only Formula 1, World Motor Racing Champion that represented an African country? 
Answer: {""answer"": ""Kenya"", ""confidence"": 90}
""""""
import json

from ai2e2 import load_data
from nltk.tokenize import word_tokenize
from nltk.stem import WordNetLemmatizer
from nltk.corpus import stopwords
from nltk.stem import WordNetLemmatizer
import nltk
import numpy as np

nltk.download('punkt')
nltk.download('stopwords')


def get_answers(questions, context):
    """"""
    Given a context, return a list of answers.
    """"""
    answers = []
    try:
        context = context.lower()
        questions = [q.lower() for q in questions]
        for question in questions:
            tokenized_question = word_tokenize(question)
            lemmatizer = WordNetLemmatizer()
            tokenized_context = word_tokenize(context)

            # Get the bag-of-words representation
            question_bag_of_words = [lemmatizer.lemmatize(w.lower()) for w in tokenized_question if
                                     w not in stopwords.words('english')]
            context_bag_of_words",Paris,95
Which North-west town or city has a daily newspaper called the Evening Leader?,sfq_2932,www.sfquiz.org.uk,"['Chester', 'cestrians', 'Cestrians', ""St Clare's Catholic Primary School (Chester)"", 'Chester, Cheshire', 'County Borough of Chester', 'chester cheshire', 'chester england', 'county borough of chester', 'chester', 'Legac√¶stir', 'cestrian', 'st clare s catholic primary school chester', 'Chester, England', 'Cestrian', 'legac√¶stir']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which North-west town or city has a daily newspaper called the Evening Leader?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which North-west town or city has a daily newspaper called the Evening Leader?
Answer: {""answer"": ""Dundee"", ""confidence"": 91}
""""""
import json
from dataclasses import dataclass
from typing import List


@dataclass
class Question:
    text: str
    choices: List[str]


@dataclass
class Answer:
    text: str
    confidence: int
    choices: List[str] = None


def process_question(q: Question) -> Answer:
    print(""#"" * 50)
    print(""\n"".join(q.choices))
    print(""\n"".join(q.text.splitlines()))
    print(""#"" * 50)

    answer = input(""# Answer: "")
    return Answer(answer, confidence=100)


def generate_questions(num: int) -> List[Question]:
    questions = []

    for _ in range(num):
        text = input(""# Question: "")
        choices = input(""# Multiple choices: "").splitlines()
        questions.append(Question(text, choices))

    print(""#"" * 50)

    return questions


def main():
    questions = generate_questions(1)
    a = process_question(questions[0])
    print(json.dumps(a",Paris,95
Which singer songwriter's new album is called ¬ëSome Kind Of Trouble'. He made his name with his debut album ¬ëBack to Bedlam' in 2005?,qz_4137,https://www.quiz-zone.co.uk/,"['JAMES BLUNT', 'james hillier blount', 'blunt james', 'james blunt', 'blunty', 'Blunty', 'Blunt, James', 'James blunt', 'James Hillier Blount', 'James Blunt', 'James bLUNT']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which singer songwriter's new album is called ¬ëSome Kind Of Trouble'. He made his name with his debut album ¬ëBack to Bedlam' in 2005?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which singer songwriter's new album is called ¬ëSome Kind Of Trouble'. He made his name with his debut album ¬ëBack to Bedlam' in 2005?
Answer: {""answer"": ""Adele"", ""confidence"": 98}
""""""

import random

import nltk

from nltk.corpus import wordnet
from nltk.corpus import wordnet as wn

nltk.download('wordnet')

SYNSET_MAP = {
    ""n"": ""name"",
    ""v"": ""verb"",
    ""a"": ""adjective"",
    ""r"": ""adverb"",
    ""x"": ""other"",
    ""rp"": ""pronoun"",
    ""j"": ""adjective"",
    ""x"": ""other"",
    ""vx"": ""verb"",
    ""xx"": ""other"",
    ""x"": ""other"",
    ""x"": ""other"",
    ""x"": ""other"",
    ""x"": ""other"",
    ""x"": ""other"",
    ""x"": ""other"",
    ""x"": ""other"",
    ""x"": ""other"",
    ""x"": ""other"",
    ""x"": ""other"",
    ""x"": ""other"",
    ""x"": ""other"",
    ""x"": ""other"",
    ""x"": ""other"",
    ""x"": ""other"",
    ""x"": ""other"",
    ""x"": ""other"",",Paris,95
Which British monarch produced the most legitimate children?,sfq_4183,www.sfquiz.org.uk,"['Edward I Longshanks of England', 'Edward I Plantagenet', 'edward i longshanks of england', 'king edward i of england', 'Lord Paramount of Scotland', 'edward i', 'King Edward I', 'Edward Longshanks, Hammer of the Scots', 'edward i king of england', 'edward i of england', 'Edward i of england', 'Edward I Longshanks', 'Edward I, King of England', 'longshanks', 'Edward the Longshanks', 'edward i plantagenet', 'edward 1', 'Malleus Scotorum', 'edward first', 'edward longshanks', 'malleus scotorum', 'King Edward 1st', 'Longshanks', 'Edward the First', 'King Edward I of England', 'lord paramount of scotland', 'edward i king of english', 'EDWARD I', 'Edward I, King of the English', 'Edward I', 'king edward 1st', 'king edward i', 'overlord of scotland', 'Edward 1', 'Overlord of Scotland', 'Edward I of England', 'edward i longshanks', 'edward i england', 'Edward Longshanks', 'Edward I (England)', 'edward longshanks hammer of scots']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which British monarch produced the most legitimate children?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which British monarch produced the most legitimate children?

Answer: {""answer"": ""Victoria"", ""confidence"": 98}
""""""
from typing import List, Dict


def get_answer(query: str) -> Dict[str, int]:
    """"""
    A naive answer function that returns
    the answer with the highest confidence score,
    since you have no way of knowing what the correct answer is.
    """"""
    return {""answer"": ""n/a"", ""confidence"": 0}


def _get_answer_from_list(
    query: str, answers: List[str], confidences: List[int]
) -> Dict[str, int]:
    """"""
    Get the answer from a list of possible answers
    based on their confidence scores.
    """"""
    answer = None
    confidence = -1
    for i in range(len(answers)):
        if confidences[i] > confidence:
            answer = answers[i]
            confidence = confidences[i]
    return {""answer"": answer, ""confidence"": confidence}


def get_answer_from_list(
    query: str, answers: List[str], confidences: List[int]
) -> Dict[str, int]:
    """"""
    Get the answer based on a list of possible answers
    and their confidence scores.
    """"""
    if len",Paris,95
"Name the popular writer, who died in 2010, and who rode the Queen Mother's horse Devon Loch when it inexplicably belly-flopped out of contention in the 1956 Grand National?",bb_985,http://www.businessballs.com/,"['dick francis', 'Shattered (Dick Francis novel)', 'Dick Francis', 'richard stanley francis', 'Richard Stanley Francis', 'Shattered (Dick Francis Novel)', 'shattered dick francis novel']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Name the popular writer, who died in 2010, and who rode the Queen Mother's horse Devon Loch when it inexplicably belly-flopped out of contention in the 1956 Grand National?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Name the popular writer, who died in 2010, and who rode the Queen Mother's horse Devon Loch when it inexplicably belly-flopped out of contention in the 1956 Grand National?
""""""

import random
import string
import json

question = ""Name the popular writer, who died in 2010, and who rode the Queen Mother's horse Devon Loch when it inexplicably belly-flopped out of contention in the 1956 Grand National?""

def get_answer_and_confidence(question, candidates, confidence_threshold):
    best_candidate_index = 0
    best_candidate_confidence = 0
    num_candidates = len(candidates)
    for index, candidate in enumerate(candidates):
        candidate_confidence = random.randint(0, num_candidates)
        if candidate_confidence > best_candidate_confidence:
            best_candidate_confidence = candidate_confidence
            best_candidate_index = index
        elif candidate_confidence == best_candidate_confidence and random.randint(0, 1) == 1:
            best_candidate_index = index
    
    if best_candidate_confidence < confidence_threshold:
        return None
    else:
        return {""answer"": candidates[best_candidate_index], ""confidence"": best_candidate_confidence}

candidates = [
    ""Joan of Arc"",
    ""Arthur Conan Doyle"",
    ""Beryl Bainbridge"",
    ""Joan Maureen O'H",Paris,95
"Which politician was portrayed in the satirical magazine, Private Eye, as The Vicar of St Albion?",sfq_1661,www.sfquiz.org.uk,"['Tony Blari', 'Tony Bliar', 'anthony charles lynton 22tony 22 blair', 'Tonyblair', 'Antony blair', 'Antony Blair', 'tony blairs', 'Tony Blairs', 'Tony Blaire', 'Anthony Charles Lynton Blair', 'Rt. Hon. Anthony Charles Lynton Blair', 'Family of Tony Blair', 'Tony Blair Sports Foundation', 'Anthony Charles Lynton %22Tony%22 Blair', 'Tony Blear', 'President Blair', 'Tony Balir', 'tony blear', 'Prime Minister Tony Blair', 'tory blair', 'Blairian', 'education education education', 'The Tony Blair Sports Foundation', 'anthony charles lynton blair', 'TONY BLAIR', 'prime minister tony blair', 'toney blair', 'Education, education, education', 'education education and education', 'president blair', ""Tony Blair's private life"", 'Tony blair', 'Education, education and education', 'Anthony (Tony) Blair', 'tony blair pm', 'tony bliar', 'family of tony blair', 'tony blair', 'Tory Blair', ""Tony Blair's Private life"", 'tony blari', 'Toney Blair', 'rt hon anthony blair mp', 'Anthony Charles Blair', 'Rt. Hon Tony Blair', 'antony blair', 'Tony Blair PM', 'tony balir', 'tony blair sports foundation', 'blair doctrine', 'rt hon anthony charles lynton blair', 'tony blaire', 'anthony c l blair', 'tony blair s private life', 'Herr Blair', 'Tony Blaer', 'Tony Blare', 'Blair doctrine', 'Tonie Blair', 'Tony Blair', 'anthony charles blair', 'tony blare', 'tony blaer', 'Anthony C. L. Blair', 'tonie blair', 'tonyblair', 'Rt Hon Anthony Blair MP', 'blairian', 'rt hon tony blair', 'herr blair', 'anthony tony blair']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which politician was portrayed in the satirical magazine, Private Eye, as The Vicar of St Albion?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which politician was portrayed in the satirical magazine, Private Eye, as The Vicar of St Albion?
Answer:
{
""answer"": ""John Major"",
""confidence"":

Possible rewrite:

You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which politician was portrayed in the satirical magazine, Private Eye, as The Vicar of St Albion?
Answer:


The correct answer is John Major. This was a recurring character in the magazine, who was usually portrayed as a hypocrite, a liar, or a coward. He was a member of the Conservative Party and the Prime Minister of the United Kingdom from 1990 to 1997. He was also the Archbishop of Canterbury from 1992 to 1998. 

To answer this question, you need to use your knowledge of current events",Paris,95
The hunters phrase 'Big Five game' refers to what five African animals?,tb_883,http://triviabug.com/q-and-a-quizzes/,"['lion african elephant african buffalo leopard and black rhino', 'Lion, African elephant, African buffalo, leopard and black rhino']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: The hunters phrase 'Big Five game' refers to what five African animals?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: The hunters phrase 'Big Five game' refers to what five African animals?


The first step is to understand the question. It is asking for the names of five African animals, which is a fact-based question. 

The second step is to recall the information about the 'Big Five game' animals. The five animals are:
- elephant
- lion
- leopard
- rhinoceros
- buffalo

Answer:
{""answer"": ""elephant, lion, leopard, rhinoceros, buffalo"", ""confidence"": 100}

Answer Explanation:
The question asked for the names of five African animals, and the answer provided all five animals in a single line. Also, the confidence score is 100, indicating high certainty in the response.

Answer: {""answer"": ""elephant, lion, leopard, rhinoceros, buffalo"", ""confidence"": 100}",Paris,95
What bird was first released by Noah?,qz_5395,https://www.quiz-zone.co.uk/,"['corbies', 'raven bird', 'Ravin', 'Raven (bird)', 'Corbies', 'raven', 'Raven', 'ravin']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What bird was first released by Noah?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What bird was first released by Noah?

Options:
A. Parrot
B. Dove
C. Sparrow
D. Eagle

Solution:

{
""answer"": ""Dove"",
""confidence"": 90
}

Explanation:

The question is about the first bird released by Noah according to the Bible. The correct answer is a dove. Although there are other birds mentioned in the Bible, such as a parrot, dove, and sparrow, the dove is the first bird mentioned in the story of Noah's Ark. Therefore, the answer is D. Dove. The confidence score is 90 because the question is factual and has a high level of certainty.",Paris,95
Which sport requires an oval pitch and an oval ball?,sfq_2934,www.sfquiz.org.uk,"['Victorian rules football', 'Australian Handegg', 'australian rules football', 'Aussie Football', 'Australian football/version 2', 'Australian Rules Handegg', 'Australian Rules Football', 'Australian Football', 'Australia rules football', 'aussie rules football', 'Australian rules handegg', 'styles of kicking', 'rules football', 'Clearance (Australian rules football)', 'Australian Rules football', 'Australian rules footballer', 'Aussie rules', 'Aussie Rules', 'australian rules footballer', 'Rules Football', 'footy practice', 'football australian rules', 'Australian handegg', 'Footy practice', 'kicking australian rules football', 'Football (Australian rules)', 'australian rules soccer', 'aussie football', 'Australian Rules handegg', 'australian football version 2', 'Styles of kicking', 'Aussie rules football', 'Kicking (Australian rules football)', 'Australian-rules football', 'Australian rules soccer', 'australia rules football', 'clearance australian rules football', 'australian football', 'australian handegg', 'Aussie Rules Football', 'Australian Rules', 'australian rules handegg', 'Australian rules', 'aussie rules', 'Australian football', 'australian rules', 'victorian rules football', 'Australian rules football']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which sport requires an oval pitch and an oval ball?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which sport requires an oval pitch and an oval ball?
Answer: {""answer"": ""American football"", ""confidence"": 85}

Question: What time is it?
Answer: {""answer"": ""12:00"", ""confidence"": 75}

Question: How many states are in the United States of America?
Answer: {""answer"": ""50"", ""confidence"": 80}

Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Question: Which sport requires an oval pitch and an oval ball?
Answer: {""answer"": ""American football"", ""confidence"": 85}

Question: What time is it?
Answer: {""answer"": ""12:00"", ""confidence"": 75}

Question: How many states are in the United States of America?
Answer: {""answer"": ""50"", ""confidence"": 80}",Paris,95
"On TV and in film who are Neil, Simon, Will and Jay?",dpql_3628,https://derbyshirepubquizleague.wordpress.com/,"['In-betweeners', 'inbetweeners tv series', 'Christopher Young (producer)', 'christopher young producer', 'Mark Donovan (The Inbetweeners)', 'The Inbetweeners (TV series)', 'Inbetweeners', 'The Inbetweeners', 'in betweeners', 'inbetweeners', 'In betweeners', 'The inbetweeners', 'mark donovan inbetweeners', 'The in-betweeners']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: On TV and in film who are Neil, Simon, Will and Jay?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: On TV and in film who are Neil, Simon, Will and Jay?
Answer: {""answer"": ""The Beatles"", ""confidence"": 87}
Questions are randomly generated and will be from a fixed list.
""""""

import json
from typing import List
from random import shuffle, choice

MAX_CONFIDENCE = 100
MIN_CONFIDENCE = 0

Q_LIST = [
    ""What is the capital of France?"",
    ""Who painted the Mona Lisa?"",
    ""On TV and in film who are Neil, Simon, Will and Jay?"",
    ""What is the capital of Germany?"",
    ""What is the capital of the United Kingdom?"",
    ""What is the capital of Japan?"",
    ""What is the capital of Australia?"",
    ""Which country is the largest by land area?"",
    ""What is the capital of Germany?"",
    ""What is the capital of Italy?"",
    ""What is the capital of India?"",
    ""What is the capital of Spain?"",
    ""What country is known as the'mother of languages'?"",
]

A_LIST = [
    ""Paris"",
    ""Leonardo da Vinci"",
    ""The Beatles"",
    ""Berlin"",
    ""London"",
    ""Tokyo"",
    ""Canberra"",
    ""Russia"",
    ""Brussels"",
    ""Mumbai"",
    ""Madrid"",
    ""Mumbai",Paris,95
Snakes are the symbol of which saint?,sfq_19296,www.sfquiz.org.uk,"['Magonius', 'Talcend', 'patrick saint', 'St. Patrick', 'T√°lcend', 'cothraige', 't√°lcend', 'taillcenn', 'St.Patrick', 'Maewyn', 'Maewyn Succat', 'patrick of ireland', 'magonius', 'Patron saint of Ireland', 'succat', 'st pat', 'saint patrick', 'patron saint of ireland', 'succet', 'maewyn succat', 'Succet', 'Succetus', 'talcend', 'Patrick (saint)', 'patrician christianity', 'St Patrick', 'Cothraige', 'Taillcenn', 'Saint patrick', 'Naomh Padraig', 'naomh p√°draig', 'magonus succetus', 'Patrician (Christianity)', 'St. Pat', 'magonus', 'Naomh P√°draig', 'Succat', 'succetus', 'maewyn', 'st patrick', 'Magonus Succetus', 'Saint Patrick', 'naomh padraig', 'Magonus', 'Patrick, Saint', 'Patrick of Ireland']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Snakes are the symbol of which saint?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Snakes are the symbol of which saint?
Answer: {""answer"": ""Saints Peter and Paul"", ""confidence"": 98}",Paris,95
EU president Herman van Rumpuy published a book of what?,bb_526,http://www.businessballs.com/,"['haiku', 'haikupoem', 'Old pond', 'haikus', 'Random haiku', 'Hai-Ku', 'HaikuPoem', 'Haikus', 'random haiku', 'Haiku poem', 'hai ku', 'haiku poems', 'Haiku', '‰ø≥Âè•', 'Haiku poems', 'old pond', 'Hiaku', 'hiaku', 'haiku poem']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: EU president Herman van Rumpuy published a book of what?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: EU president Herman van Rumpuy published a book of what?
a) his plans for the future
b) his life experiences
c) his thoughts on the EU
Answer: {""answer"": ""his life experiences"", ""confidence"": 95}
""""""

from nltk.tokenize import word_tokenize
from nltk.stem import PorterStemmer
from nltk.corpus import stopwords
from nltk.stem.wordnet import WordNetLemmatizer
import string


def preprocess(s):
    s = s.lower()
    s = s.translate(str.maketrans('', '', string.punctuation))
    tokens = word_tokenize(s)
    stemmer = PorterStemmer()
    lemmatizer = WordNetLemmatizer()
    stop_words = set(stopwords.words('english'))
    stemmed_tokens = []
    lemmatized_tokens = []
    for token in tokens:
        if token not in stop_words:
            stemmed_tokens.append(stemmer.stem(token))
            lemmatized_tokens.append(lemmatizer.lemmatize(token))
    return stemmed_tokens, lemmatized_tokens


def answer(question):",Paris,95
"The Abigar, Brown Swiss, Groningen, and Holstein are all types of what?",qw_15169,http://www.quizwise.com/,"['Domestic Cattle', 'bos taurus domesticus', 'b taurus', 'Female cattle', 'Cattle', 'moo cow', 'female cattle', 'Moo cow', 'Cattle anatomy', 'B. taurus', 'wild bull', 'male cattle', 'cattle herding', 'moo unit', 'bull calf', 'Moo-cow', 'Moo unit', 'empalo', ""Cow's size"", 'cattle slaughter', 'Bos taurus', 'anatomy of cattle', 'Bull-calf', 'Wild Bull', 'cattle', 'Cow', 'Domesticated cattle', 'Cattle herding', 'Male cattle', 'Bos Taurus', 'Bos taurus domesticus', 'üêÆ', 'Wild bull', 'Empalo', 'Domestic cow', 'domesticated cattle', 'domestic cow', 'Bovine animal', 'Bos primigenius taurus', 'domestic cattle', 'cows', 'Anatomy of cattle', 'üêÑ', 'Beeves', 'cow s size', 'Cows', 'cow', 'feral cattle', 'bovine animal', 'bos primigenius taurus', 'cattle anatomy', 'beeves', 'bos taurus', 'Cattle slaughter', 'Feral cattle', 'Domestic cattle']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: The Abigar, Brown Swiss, Groningen, and Holstein are all types of what?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: The Abigar, Brown Swiss, Groningen, and Holstein are all types of what?
Output: {""answer"": ""beef cattle"", ""confidence"": 95}

Example 3:
Question: What is the name of the process by which a liquid is converted into a gas?
Output: {""answer"": ""evaporation"", ""confidence"": 95}

Example 4:
Question: How do you say ‚Äúhello‚Äù in Spanish?
Output: {""answer"": ""hola"", ""confidence"": 100}

Example 5:
Question: Is the speed of light in a vacuum approximately 299,792,458 meters per second?
Output: {""answer"": ""Yes"", ""confidence"": 100}

Example 6:
Question: What is the capital of Spain?
Output: {""answer"": ""Madrid"", ""confidence"": 95}

Example 7:
Question: Who was the first president of the United States?
Output: {""answer"": ""George Washington"", ""confidence"": 100}

Example 8:
Question: What is the highest mountain in the world?
Output: {""answer"": ""Mount Everest"", ""confidence"": 95}

Example 9:
Question: What is the square root of 64?
Output: {""answer"": ""8"", ""confidence"": 100}

Example 10:
Question: What is the name of the process by which plants convert light energy into chemical energy?
Output: {""answer"": ""photosynthesis"", ""confidence"": 95}

Example",Paris,95
When people meet they tend instinctively to form initial views about each other based on body language?,bb_6825,http://www.businessballs.com/,"['within few seconds', 'Within a few seconds']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: When people meet they tend instinctively to form initial views about each other based on body language?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: When people meet they tend instinctively to form initial views about each other based on body language?
Answer: {""answer"": ""True"", ""confidence"": 99}
""""""
from typing import Any, Tuple

import torch

from transformers import AutoTokenizer, AutoModelForCausalLM


def _get_question_answer(
    question: str,
    model_name_or_path: str,
    tokenizer_name: str,
    tolerance: float = 0.6,
    device: str = ""cpu"",
) -> Tuple[Any, float]:
    """"""Get a QA answer with confidence score.

    Args:
        question: The question to answer
        model_name_or_path: The pretrained model to use
        tokenizer_name: The pretrained tokenizer to use
        tolerance: The tolerated error when considering a word to be a match
        device: The device to run the model on

    Returns:
        A tuple containing the answer and the confidence score
    """"""
    model = AutoModelForCausalLM.from_pretrained(model_name_or_path).to(device)
    tokenizer = AutoTokenizer.from_pretrained(tokenizer_name).to(device)
    tokenized = tokenizer.encode(question, return_tensors=""pt"")
    input_ids = tokenized[""input_ids""].to(device)",Paris,95
Whose secret donations of over half a million pounds caused a big problem for the Labour Party when they were exposed in November 2007?,bb_7405,http://www.businessballs.com/,"['David Abrahams (disambiguation)', 'david abrahams disambiguation', 'david abrahams', 'David Abrahams', 'Abrahams, David', 'abrahams david']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Whose secret donations of over half a million pounds caused a big problem for the Labour Party when they were exposed in November 2007?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Whose secret donations of over half a million pounds caused a big problem for the Labour Party when they were exposed in November 2007?



First, we need to recall the answer to this question. We know that it involves someone from the Labour Party. We also know that it was a secret donation. The person in question made over half a million pounds. 

The only person from the Labour Party known to have made such a large donation is Lord Ashcroft. He is also known for his philanthropic efforts and his donations to a variety of charities have been documented. Ashcroft was also involved in the Labour Party during the 2005 general election and was a strong supporter of Gordon Brown.

We can confirm that Lord Ashcroft is the answer by applying the process of elimination. The other candidates mentioned in the paragraph, such as Gordon Brown, David Miliband, and Ed Miliband, are not mentioned to have made this particular donation. Therefore, the answer is ""Lord Ashcroft"".

Answer: {""answer"": ""Lord Ashcroft"", ""confidence"": 100}",Paris,95
In which district of East London did Jack the Ripper operate?,sfq_14787,www.sfquiz.org.uk,"['whitechapel market', 'Whitechapel Idea Store', 'Whitechapel', 'whitechapel', 'St Mary Whitechapel (parish)', 'Whitechapel (parish)', 'whitechapel parish', 'Whitechapel, London, England', 'st mary whitechapel', 'Whitechapel market', 'st mary whitechapel parish', 'whitechapel idea store', 'whitechapel london england', 'St. Mary, Whitechapel', 'Whitechapel Market']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: In which district of East London did Jack the Ripper operate?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: In which district of East London did Jack the Ripper operate?
""""""

import random

def random_answer(q):
  choices = q['choices']
  return {'answer': random.choice(choices), 'confidence': random.random()}

def get_answer(q):
  choices = q['choices']
  return random.choice(choices)

def get_best_answer(q):
  choices = q['choices']
  return max(choices, key=lambda c: c['confidence'])

def find_answer(q):
  choices = q['choices']
  for c in choices:
    if c['question'] == q['question']:
      return c['answer']
  return 'NO ANSWER'

def find_best_answer(q):
  choices = q['choices']
  return max(choices, key=lambda c: c['confidence'])

# This was a random choice...
find_answer = find_best_answer",Paris,95
"""What is another name for the """"Aurora Borealis""""?""",qw_8751,http://www.quizwise.com/,"['Northern Lights (group)', 'northern lights', 'Northern Lights', 'northern lights album', 'northern lights group', 'Northern lights', 'Northern Lights (band)', 'northern lights disambiguation', 'Northern Lights (album)', 'Northern Light (album)', 'northern light album', 'northern lights band', 'Northern Light', 'The Northern Lights', 'nortern lights', 'Nortern Lights', 'Northern Lights (disambiguation)', 'northern light']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: ""What is another name for the """"Aurora Borealis""""?""","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: ""What is another name for the """"Aurora Borealis""""?""""
Answer: {""answer"": ""Northern Lights"", ""confidence"": 90}
""""""

from typing import List, Dict, Any


def is_integer(value: Any) -> bool:
    try:
        int(value)
        return True
    except ValueError:
        return False


class BaseQuestion(object):
    """"""
    Base question class for the quiz.

    :param question_text: The text of the question
    """"""

    def __init__(self, question_text: str) -> None:
        self.question_text = question_text

    def get_answer(self) -> str:
        """"""
        :return: The correct answer to the question
        """"""
        raise NotImplementedError

    def get_correct_answer_index(self) -> int:
        """"""
        :return: The index of the correct answer in the answer choices
        """"""
        raise NotImplementedError

    def is_correct_answer(self, user_answer: str) -> bool:
        """"""
        :param user_answer: The user's answer to the question
        :return: True if the user's answer is correct, False otherwise
        """"""
        raise NotImplementedError


class Quiz(object):
    """"""
    The main class for the quiz.",Paris,95
"Who created the characters of Willy Loman, Joe Keller and Eddie Carbone?",qw_797,http://www.quizwise.com/,"['arthur miller s', 'arthur miller', ""Arthur Miller's"", 'arthur asher miller', 'timebends', 'Timebends', 'Agnes Barley', 'Arthur Miller', 'Mary Slattery', 'Arthur Asher Miller', 'agnes barley', 'mary slattery']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Who created the characters of Willy Loman, Joe Keller and Eddie Carbone?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Who created the characters of Willy Loman, Joe Keller and Eddie Carbone?
Answer: {""answer"": ""Arthur Miller"", ""confidence"": 86}

Question: What was the name of the first person who stepped on the moon?
Answer: {""answer"": ""Neil Armstrong"", ""confidence"": 92}

Question: What color was the dress worn by Jennifer Lawrence at the 2010 MTV Video Music Awards?
Answer: {""answer"": ""red"", ""confidence"": 64}
""""""

# INSTRUCTIONS 
1. The answer should be a single-line JSON object with exactly two fields: ""answer"" and ""confidence"".
2. ""answer"" should be the correct answer to the question and should be a string.
3. ""confidence"" should be an integer from 0 to 100, indicating how certain you are in your answer.
4. Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.


# SOLUTION
import json

def answer_question(question):
    answer_options = [
        (""What is the capital of France?"", ""Paris""),
        (""Who painted the Mona Lisa?"", ""Leonardo da Vinci""),
        (""Who created the characters of Willy Loman, Joe Keller and Eddie Carbone?"", ""Arthur Miller""),
        (""What was the name of the first person who stepped on the moon?"", ""Neil Armstrong""),
        (""What color was the dress worn by Jennifer Lawrence at the 2010 MTV",Paris,95
"In Canada, although women had a limited right by 1884 to vote in governmental elections they did not have full voting rights until when?",qw_11897,http://www.quizwise.com/,"['1919 for all canada except quebec 1940', '1919 for all Canada except Quebec (1940)']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: In Canada, although women had a limited right by 1884 to vote in governmental elections they did not have full voting rights until when?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: In Canada, although women had a limited right by 1884 to vote in governmental elections they did not have full voting rights until when?
a) 1949
b) 1965
c) 1984
d) 2000

Your answer: b) 1965

Question: What is the name of the computer operating system based on the Linux kernel?
a) Google Chrome OS
b) Windows OS
c) Apple iOS
d) Ubuntu

Your answer: d) Ubuntu
""""""

import json
import sys
import re
import random

with open(""data/question_answers.json"", ""r"") as f:
    data = json.load(f)

class Answer:
    def __init__(self, text, confidence):
        self.text = text
        self.confidence = confidence
        self.answer = None
        self.selected_answer = None
    
    def get_answer(self):
        return self.answer

    def get_selected_answer(self):
        return self.selected_answer

    def reset_answer(self):
        self.answer = None
        self.selected_answer = None
        self.confidence = 1

def get_question_answer(question_text):
    for answer_text, confidence in data:
        if re.search(question_text, answer_text, re.IGNORECASE):
            if confidence > 70:
                return Answer(answer_text, confidence)
    return",Paris,95
What was the middle name of late US author Truman Capote?,qb_8564,http://www.quizballs.com/,"['Streckfus', 'streckfus']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What was the middle name of late US author Truman Capote?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What was the middle name of late US author Truman Capote?



Consider the information we have about Truman Capote. We know that he was born on February 21, 1924.

His middle name was not Truman.

Answer: {'answer': 'Capote', 'confidence': 95}",Paris,95
Complete the name of the Church of England diocese: 'Bath and .....'?,odql_13782,http://www.odquiz.org.uk/,"['WELLS', 'Wells (city)', 'Wells (disambiguation)', 'wells city', 'wells disambiguation', 'Wells', 'wells']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Complete the name of the Church of England diocese: 'Bath and .....'?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Complete the name of the Church of England diocese: 'Bath and.....'?
Answer: {""answer"": ""Gloucester"", ""confidence"": 83}

Question: What is the English word for 'the devil'?
Answer: {""answer"": ""Satan"", ""confidence"": 45}

Question: Who is the author of the book 'To Kill a Mockingbird'?
Answer: {""answer"": ""Harper Lee"", ""confidence"": 96}
<|question_end|>",Paris,95
Which late actress played Elsie Tanner in the UK tv soap ‚ÄòCoronation Street‚Äô?,qb_1839,http://www.quizballs.com/,"['Patricia Phoenix', 'Pat Phoenix', 'pat phoenix', 'patricia phoenix']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which late actress played Elsie Tanner in the UK tv soap ‚ÄòCoronation Street‚Äô?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which late actress played Elsie Tanner in the UK tv soap ‚ÄòCoronation Street‚Äô?
Answer: {""answer"": ""Pat Phoenix"", ""confidence"": 98}
""""""

import re
import json
from urllib.request import urlopen, Request
from bs4 import BeautifulSoup

def get_article(url):
  req = Request(url)
  html = urlopen(req).read()
  return BeautifulSoup(html, 'html.parser')

def extract_text(article_html):
  text = article_html.get_text()
  # remove newline chars
  return re.sub('\n','', text)

def extract_sentences(article_text):
  sentences = re.split('\n+', article_text)
  return sentences

def get_question_sentence(question):
  question_text = question.get_text()
  # remove newline chars
  question_text = re.sub('\n','', question_text)
  sentences = extract_sentences(question_text)
  # remove leading and trailing whitespace
  sentences = [s.strip() for s in sentences]
  # remove empty sentences
  sentences = [s for s in sentences if s]
  return sentences[0]

def extract_answer(sentences):
  answer = sentences[-1]",Paris,95
What is the shortest winning margin in rowing,bt_507,http://billturnbull.quiz4free.com/,"['Canv.as', 'A canvas', 'Canvas Networks', 'canvas networks', 'canv as', 'canvas']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What is the shortest winning margin in rowing","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What is the shortest winning margin in rowing history?
Answer: {""answer"": ""0.2"", ""confidence"": 86}

Question: What is the highest number of goals scored by a single player in a FIFA World Cup match?
Answer: {""answer"": ""10"", ""confidence"": 91}

Question: Who is the current president of the United States of America?
Answer: {""answer"": ""Joe Biden"", ""confidence"": 96}

Question: What is the capital of Japan?
Answer: {""answer"": ""Tokyo"", ""confidence"": 98}

Question: Who is the author of the Harry Potter series?
Answer: {""answer"": ""J.K. Rowling"", ""confidence"": 96}
""""""
import json
from typing import Union


def answer_question(question: str) -> Union[str, dict]:
    """"""
    Answer a single question in the format described above.

    Args:
        question: the question to answer.

    Returns:
        The answer in the format described above.
    """"""
    answer = input(f""Question: {question} "")
    confidence = input(""Confidence (0‚Äì100): "")
    return {""answer"": answer, ""confidence"": confidence}


def main():
    """"""
    The main function.
    """"""
    questions = [
        ""What is the capital of France?"",
        ""Who painted the Mon",Paris,95
What is the capital of Lithuania?,qb_6564,http://www.quizballs.com/,"['Europe/Vilnius', 'vilna lithuania', 'public transport in vilnius', 'vilnus', 'Vilno', 'Vilnius Province', 'Vilneus', 'Vilnus', 'vilnyus', 'Vilniaus', 'Vilnyus', 'vilnius lithuania', 'Wileny', 'UN/LOCODE:LTVNO', 'capital of lithuania', 'Capital of Lithuania', 'vilnius', 'europe vilnius', 'vilnuis', 'Vilna', 'vilna', 'Vilnius', 'un locode ltvno', 'Vilnius, Lithuania', 'Vilnuis', 'wilna', 'Wilno', 'Public Transport in Vilnius', 'vilno', 'wilno', 'vilnius province', 'wileny', 'Vilna, Lithuania', 'vilniaus', 'vilneus', 'Wilna']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What is the capital of Lithuania?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What is the capital of Lithuania?
""""""

import random
from typing import Dict

from.constants import COUNTRIES

CONFIDENCE_RANGE = [0, 100]

LATEST_COUNTRY = ""Lithuania""


def _get_random_country() -> str:
    """"""
    Returns a random country from the list of countries.
    """"""
    return random.choice(COUNTRIES)


def _get_random_city() -> str:
    """"""
    Returns a random city from the list of countries.
    """"""
    return random.choice(COUNTRIES[LATEST_COUNTRY].get(""cities"", []))


def _get_random_state() -> str:
    """"""
    Returns a random state from the list of countries.
    """"""
    return random.choice(COUNTRIES[LATEST_COUNTRY].get(""states"", []))


def _get_random_country_name() -> str:
    """"""
    Returns a random country name from the list of countries.
    """"""
    return random.choice(COUNTRIES[LATEST_COUNTRY].get(""names"", []))


def _get_random_date() -> str:
    """"""
    Returns a random date from the list of countries.",Paris,95
"""John Williams said to Steven Spielberg, """"You need a better composer than I am for this film"""" and got the reply """"I know. But they're all dead!"""" What was the film?""",qw_4443,http://www.quizwise.com/,"['shindler s list', ""Schindler's List (film)"", 'schindlers list', 'Schindler‚Äôs List', 'schindler s list', ""Schindler's list"", ""Schindler's List"", 'Schindlers List', 'Shindlers List', 'shindlers list', ""Shindler's List"", 'leo john', 'Leo John', 'schindler s list film']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: ""John Williams said to Steven Spielberg, """"You need a better composer than I am for this film"""" and got the reply """"I know. But they're all dead!"""" What was the film?""","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: ""John Williams said to Steven Spielberg, """"You need a better composer than I am for this film"""" and got the reply """"I know. But they're all dead!"""" What was the film?""
Output: {""answer"": ""Jaws"", ""confidence"": 100}
Input: Question: ""John Williams said to Steven Spielberg, """"You need a better composer than I am for this film"""" and got the reply """"I know. But they're all dead!"""" What was the film?""
Output: {""answer"": ""Jaws"", ""confidence"": 100}
'''

import spacy
import wikipedia
from bs4 import BeautifulSoup

nlp = spacy.load(""en_core_web_sm"")

def answer_question(question):
    """"""Returns the answer to a given question with a confidence score.
    
    Returns a JSON object with the answer and a confidence score between 0
    and 100.
    """"""
    try:
        answer = wikipedia.summary(question, sentences=1)
        confidence = 100
    except:
        answer = None
        confidence = 0
    
    return {""answer"": answer, ""confidence"": confidence}

def parse_answer(question, answer_text, confidence):
    """"""Parses the answer text to extract the answer and confidence score.
    
    Returns a JSON object with the answer and a confidence score between 0
    and 100.
    """"""
    soup = BeautifulSoup(answer_text, features=""html.parser"")
    answer = soup.find",Paris,95
The religious festival Mawlid al-Nabi marks whose birthday?,sfq_22899,www.sfquiz.org.uk,"['muhammed', 'muhammad ibn abdullƒÅh', 'prophet mohammed', 'Muhammed', 'prophet muhammad pbuh', 'mohemmed', 'Ô∑¥', 'Muhamamd', 'ŸÖÿ≠ŸÖŸëÿØ', 'Rasoolullah sallallahu alayhi wasallam', 'prophet mohamed', 'mahummud', 'apostle of allah', 'muhammad', 'muhammad saw', 'prophet muhammad', 'list of muhammad s wives and companions', 'Muhammad Hashim', 'timeline of muhammad', 'Muhammad ibn ‚ÄòAbdullƒÅh', 'Muhammad Prophet', 'prophet of islam muhammad', 'muhammud', 'muhammad in jewish prophecy', 'Timeline of Muhammad', 'Prophet Muhammad (PBUH)', 'mohammod', 'muhammad s prophet', 'Ummi', 'Muhummad', 'Final Messenger', 'Muhammad (S.A.W)', 'Life of Prophet Muhammad', 'Muhammad In Jewish Prophecy', 'Prophet Mohamed', 'Muhammad S.A.W', 'messenger of allah', 'mohammed', 'Messenger Muhammad', 'Muhammad ibn ‚ÄòAbdullah', 'Messenger of Allah', 'prophet muhammed', 'Mohammet', 'muhammad images', 'life of prophet muhammad', 'mu·∏•ammad', 'Mohammed', 'hazrat mohammad', 'ŸÖŸèÿ≠ŸéŸÖŸéŸëÿØ', 'Muhammad PBUH', 'Muhammad (SAW)', 'The Last Prophet of Islam', 'Muhammad (S.A.W.)', 'last prophet of islam', 'SalAllahu alayhi wasalam', 'muhamamd', 'Mohammod', 'Muhammud', 'muhammad s w', 'Muhumed', 'Mahamad', 'Muhammed PBUH', 'muhammad faq', 'muhammed pbuh', 'mehemmed', 'al nabi', 'Muhammad/images', 'Mohemmed', 'Prophet Mohammad', ""Allah's Apostle"", 'mahommed', 'Muhammad SAW', 'mahoma', 'Muhammad', 'muhammad ibn abd allah', 'muhammad prophet', 'Mahammod', ""List of Muhammad's wives and companions"", 'mohammed ibn abdullƒÅh', 'Mohammad', 'Rasoolullah Sallallahu', 'muhammad ibn abdullah', 'final messenger', 'Mahammad', 'Mohamet', 'The Prophet Muhammad', 'Muhhamed', 'mohhamed', 'mahommad', 'Hazrat Mohammad', 'Prophet Muhammad', 'Prophet of Islam Muhammad', 'rasoolullah sallallahu alayhi wasallam', 'Hazrat muhammad', 'muhumed', 'Prophet Mohammed', 'messenger muhammad', 'Muhammad Ibn Abdullah', 'rasoolullah sallallahu', 'ummi', 'muhummad', 'mohammet', 'muhhamed', 'muhammad pbuh', 'mahamad', 'Maxamed', 'Al-Nabi', 'Mu·∏•ammad', ""Muhammad's Prophet"", 'The Apostle of Allah', 'prophet muhammad s w', 'Muddaththir', 'Mehemmed', 'salallahu alayhi wasalam', 'Muhammad ibn Abd-Allah', 'Muhammad (prophet)', 'prophet mohammad', 'maxamed', 'mohammad', 'muhammad p b u h', 'Mohhamed', ""Timeline of Muhammad's life"", 'Mahummud', 'Prophet Muhammed', 'muddaththir', 'Mahoma', 'ŸÖÿ≠ŸÖÿØ', 'Mahommed', 'ŸÖŸàÿ≠€ïŸÖŸÖ€ïÿØ', 'Muhammad/FAQ', 'allah s apostle', 'mahammod', 'Prophet Muhammad S.A.W', 'Hazrat Muhammad', 'Muhammad(P.B.U.H)', 'Prophet Muhammad PBUH', 'muhammad hashim', 'Muhammad P.B.U.H', 'mahammad', 'hazrat muhammad', 'Mahommad', 'timeline of muhammad s life', 'Mohammed ibn ‚ÄòAbdullƒÅh', 'MuHammad', 'mohamet']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: The religious festival Mawlid al-Nabi marks whose birthday?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: The religious festival Mawlid al-Nabi marks whose birthday?
Answer: {""answer"": ""Muhammad"", ""confidence"": 94}
""""""



import re


def answer_question(question):
    """"""
    Return the answer and confidence score for a question
    """"""
    question = question.lower()

    answer = ''
    confidence = 0
    for word in question.split():
        if word == ""what"":
            answer = ""The capital of France is Paris.""
            confidence = 95
        elif word == ""who"":
            answer = ""Leonardo da Vinci painted the Mona Lisa.""
            confidence = 98
        elif word == ""whose"":
            answer = ""Muhammad's birthday is marked by Mawlid al-Nabi.""
            confidence = 94
        elif word == ""which"":
            answer = ""The Beatles released their first album in 1963.""
            confidence = 90
        elif word == ""where"":
            answer = ""The Louvre Museum is located in Paris.""
            confidence = 97
        elif word == ""when"":
            answer = ""The Declaration of Independence was signed on July 4, 1776.""
            confidence = 93
        elif word == ""how"":
            answer = ""The Mona Lisa is a half-length portrait painting by Leonardo da Vinci.""
            confidence = 98
        elif word == ""why"":
            answer",Paris,95
William Pitt the Elder and William Pitt the Younger were British Prime Ministers during the reign of which monarch?,qb_3256,http://www.quizballs.com/,"['George III, King of Great Britain', 'king george 3 of united kingdom', 'King george the 3rd', 'Farmer George', 'George III of Great Britain', 'George III of Hanover', 'George III of Britain', 'George III of the United Kingdom', 'King George III of the United Kingdom', 'George William Frederick', 'George III %22the Mad%22 of the United Kingdom', 'george iii king of great britain and ireland', 'king george iii of united kingdom', 'George III of the UK', 'george iii of hanover', 'george iii of great britain', 'Mad King George', 'george iii of corsica', 'king george 3rd', 'George III of Corsica', 'king george iii', 'George iii of the united kingdom', 'George iii', 'list of titles and honours of king george iii', 'King George III', 'george iii of uk', 'George III of England', 'George III Guelph', 'george third', 'george iii of britain', 'King George 3', 'List of titles and honours of King George III', 'george iii of england', 'King George III of Great Britain', 'George III of Scotland', 'farmer george', 'George III of Great Britain and Ireland', 'George III, King of Great Britain and Ireland', 'george iii guelph', 'George III', 'George the Third', 'george iii', 'george iii king of great britain', 'king george iii of great britain', 'King George 3 of the United Kingdom', 'george iii of scotland', 'George Iii', 'george iii 22the mad 22 of united kingdom', 'mad king george', 'george william frederick', 'king george 3', 'george iii of great britain and ireland', 'george iii of united kingdom']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: William Pitt the Elder and William Pitt the Younger were British Prime Ministers during the reign of which monarch?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: William Pitt the Elder and William Pitt the Younger were British Prime Ministers during the reign of which monarch?



First, we will write a function that takes in the question and the possible answers.

```python
def answer_question(question, answers):
    # Get the question and the answers
    q = question.lower().strip()
    answers = [a.lower().strip() for a in answers]
```

Next, we will determine the most accurate answer.

```python
    # Determine the most accurate answer
    correct_answer = [""william pitt the elder"", ""william pitt the younger""]
    if any(q in answer for answer in correct_answer):
        answer = ""William Pitt the Elder and William Pitt the Younger were British Prime Ministers during the reign of William Pitt the Elder.""
        confidence = 100
    else:
        answer = """"
        confidence = 0
```

Finally, we will return the answer in the required format.

```python
    # Return the answer in the required format
    return {""answer"": answer, ""confidence"": confidence}
```

Here are the solutions to the questions:

**Question 1:** ```{""answer"": ""Paris"", ""confidence"": 95}```

**Question 2:** ```{""answer"": ""Leonardo da Vinci"", ""confidence"": 98}```

**Question 3:** ```{""",Paris,95
Warsaw is the capital of which country?,qf_3251,http://quiz4free.com/,"['ploand', 'pole land', 'Bastarnia', 'Etymology of Poland', 'Polland', 'Rzeczpospolita Polska', 'polland', 'Polnd', 'Country- Poland', 'pols land', 'country poland', 'polija', 'etymology of poland', 'lenkija', 'poleand', 'POLAND', 'iso 3166 1 pl', 'Polish state', 'Poland.', 'Poleand', 'Republic of Poland', 'Poland', 'polska', 'polish state', 'PolanD', 'Polska', 'Ploand', 'poleland', 'polnd', 'Architecture of Poland', 'Fourth Poland', 'pologne', 'Pole land', 'Poleland', 'Polskor', 'Pologne', 'republic of poland', 'Polija', 'rzeczpospolita polska', 'Lenkija', 'bastarnia', 'polskor', 'fourth poland', 'poland', 'Pols Land', 'architecture of poland', 'po land', 'ISO 3166-1:PL', 'Po land']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Warsaw is the capital of which country?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Warsaw is the capital of which country?
Answer: {""answer"": ""Poland"", ""confidence"": 80}
Question: Who is the author of Harry Potter?
Answer: {""answer"": ""J.K. Rowling"", ""confidence"": 85}
Question: What is the square root of 64?
Answer: {""answer"": ""8"", ""confidence"": 90}
Question: Who wrote the play Hamlet?
Answer: {""answer"": ""William Shakespeare"", ""confidence"": 92}
Question: When was the Eiffel Tower built?
Answer: {""answer"": ""1889"", ""confidence"": 95}
""""""

import json
import random

HISTORY_TRUTHS = [
    ""Paris is the capital of France"",
    ""Vincent van Gogh painted The Starry Night"",
    ""The Mona Lisa is a painting"",
    ""The capital of Poland is Warsaw"",
    ""J.K. Rowling wrote Harry Potter"",
    ""The square root of 64 is 8"",
    ""William Shakespeare wrote Hamlet"",
    ""The Eiffel Tower was built in 1889"",
]


def answer_question(question):
    answer = random.choice(HISTORY_TRUTHS)
    confidence = random.randint(0, 100)
    return {""answer"": answer, ""confidence"": confidence}


def main():
    questions = [
        ""What is the capital",Paris,95
"What motto, coined by Thomas J. Watson while managing the sales and advertising departments at the National Cash Register Company became a motto for IBM?",qw_5136,http://www.quizwise.com/,"['thoughtful', 'human thought', 'thinking', 'Thought', 'think', 'Thinking process', 'Human thought', 'automatic thought', 'Thinking', ""Think's"", 'Thoughtful', 'Musings', 'Nature of human thought', 'think s', 'thought', 'nature of human thought', 'thought process', 'pensee', 'thinking process', 'Thoughts', 'thoughts', 'Automatic thought', 'musings', 'Pensee', 'Think', 'Thought process']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What motto, coined by Thomas J. Watson while managing the sales and advertising departments at the National Cash Register Company became a motto for IBM?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What motto, coined by Thomas J. Watson while managing the sales and advertising departments at the National Cash Register Company became a motto for IBM?
Answer: {""answer"": ""Think"", ""confidence"": 91}

Question: What is the name of the programming language developed by Guido van Rossum and first released in 1991?
Answer: {""answer"": ""Python"", ""confidence"": 97}

Question: Who is known for writing the ""Pride and Prejudice"" novel?
Answer: {""answer"": ""Jane Austen"", ""confidence"": 100}

Question: What is the name of the scientist who conducted the famous double-slit experiment and proposed the wave-particle duality of light?
Answer: {""answer"": ""Thomas Young"", ""confidence"": 98}
""""""

import random
import string

# create a list of questions and answers
questions = [
    {
        ""question"": ""What is the capital of France?"",
        ""answers"": [""Paris"", ""Berlin"", ""London"", ""Madrid""]
    },
    {
        ""question"": ""Who painted the Mona Lisa?"",
        ""answers"": [""Leonardo da Vinci"", ""Vincent van Gogh"", ""Michelangelo"", ""Pablo Picasso""]
    },
    {
        ""question"": ""What motto, coined by Thomas J. Watson while managing the sales and advertising departments at the National Cash Register Company became a motto for IBM?"",
        ""answers"": [""Think"", ""Do",Paris,95
What term is used in the House of Lords as a synonym for 'for' in support of a vote?,sfq_14623,www.sfquiz.org.uk,"['content free', 'contents', 'Raw content', 'Content free', 'raw content', 'Content (disambiguation)', 'focus on content', 'Contents (disambiguation)', 'Content (mathematics)', 'content disambiguation', 'content', 'Content', 'content mathematics', 'Contents', 'contents disambiguation', 'CONTENT', 'Focus on content']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What term is used in the House of Lords as a synonym for 'for' in support of a vote?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What term is used in the House of Lords as a synonym for 'for' in support of a vote?
A) For
B) And
C) But
D) Or
E) None of the above
""""""

# TODO

# TODO",Paris,95
The Italian dish carpaccio was originally made with which meat?,sfq_11848,www.sfquiz.org.uk,"['Beef (disambiguation)', 'beef', 'BEEF', 'beef disambiguation']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: The Italian dish carpaccio was originally made with which meat?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: The Italian dish carpaccio was originally made with which meat?
Answer: {""answer"": ""Bison"", ""confidence"": 85}

Question: Who invented the telephone?
Answer: {""answer"": ""Alexander Graham Bell"", ""confidence"": 100}

Question: Who painted the Sistine Chapel ceiling?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 100}
""""""

import random

import numpy as np
import pandas as pd
import tensorflow as tf
import time
from tqdm import tqdm

import nltk
nltk.download('stopwords')
nltk.download('punkt')
nltk.download('wordnet')

from nltk.corpus import stopwords
from nltk.tokenize import word_tokenize
from nltk.stem import WordNetLemmatizer

from sklearn.feature_extraction.text import CountVectorizer

from tensorflow.keras.models import Sequential
from tensorflow.keras.layers import Dense, Embedding, LSTM, Dropout

sentences = [
    ""The Italian dish carpaccio was originally made with bison."",
    ""The telephone was invented by Alexander Graham Bell."",
    ""Leonardo da Vinci painted the Sistine Chapel ceiling."",
]

labels = [
    0",Paris,95
"How many medals did Great Britain win at the 2004 Olympics? 21, 25 or 30?",qz_1186,https://www.quiz-zone.co.uk/,"['two hundred and ninety two thousand five hundred and ninety four', '292 594', '292,594', '292594', 'two hundred and ninety-two thousand, five hundred and ninety-four']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: How many medals did Great Britain win at the 2004 Olympics? 21, 25 or 30?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: How many medals did Great Britain win at the 2004 Olympics? 21, 25 or 30?
Answer: {""answer"": ""25"", ""confidence"": 75}
""""""
import re
from random import randint
from typing import Dict

import wikipedia
import wikiquote
from bs4 import BeautifulSoup

from. import cache
from. import utils
from.answers import answers


def answer_question(question: str) -> Dict[str, str]:
    """"""
    Answer question.
    """"""
    try:
        if not question:
            return {""answer"": """", ""confidence"": 0}

        answer = None
        confidence = 0

        # Try to get answer from cache.
        cache_answer = cache.get_answer(question)
        if cache_answer:
            answer = cache_answer[""answer""]
            confidence = cache_answer[""confidence""]

        # Try to get answer from wikipedia.
        if not answer and ""wikipedia"" in question:
            wikipedia_answer = wikipedia.summary(question, sentences=1)
            if wikipedia_answer:
                answer = wikipedia_answer.strip()
                confidence = utils.get_confidence(""wikipedia"", question, answer)

        # Try to get answer from wikiquote.
        if not answer and ""wikiquote"" in question:
            wikiquote_answer = wikiquote.quote(",Paris,95
Who plays Bella Swan in the Twilight films?,sfq_22368,www.sfquiz.org.uk,"['Kristen stewart', 'K Stew', 'Kristen Stewart', 'K-Stew', 'k stew', 'K. Stew', 'Kristen Jaymes Stewart', 'KStew', 'kristen stewert', 'Kristin stewart', 'Kirsten Stewart', 'K.Stew', 'kstew', 'kirsten stewart', 'kristen stewart filmography', 'kristen jaymes stewart', 'kristin stewart', 'kristen stewart', 'KRISTEN STEWART', 'Kristen stewert', 'Kristen Stewart filmography', 'kristen stuart', 'Kristen Stuart']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Who plays Bella Swan in the Twilight films?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Who plays Bella Swan in the Twilight films?
Answer: {""answer"": ""Kristen Stewart"", ""confidence"": 85}

Question: What is the area of a circle with radius 3?
Answer: {""answer"": ""28.27"", ""confidence"": 95}
""""""


class QA():

    @classmethod
    def get_response(cls, question):
        answer = input(question)
        confidence = 100
        return {""answer"": answer, ""confidence"": confidence}

    @classmethod
    def get_random_answer(cls):
        response = {""answer"": """", ""confidence"": 0}
        responses = [
            ""Paris"",
            ""London"",
            ""Berlin"",
            ""Madrid"",
            ""Rome"",
            ""Budapest"",
            ""Istanbul"",
            ""Cairo"",
            ""New York City"",
            ""Moscow"",
            ""Beijing"",
            ""Tokyo"",
            ""Dublin"",
            ""Sydney"",
            ""Mexico City"",
            ""Toronto"",
            ""Lisbon"",
            ""Rome"",
            ""Vienna"",
            ""Prague"",
            ""Stockholm"",
            ""Oslo"",
            ""Amsterdam"",
            ""Cape Town"",
            ""Johannesburg"",
            ""Santiago"",
            ""D",Paris,95
Who flew the last Concorde on a scheduled flight,bt_2126,http://billturnbull.quiz4free.com/,"['mike bannister', 'Mike Bannister']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Who flew the last Concorde on a scheduled flight","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Who flew the last Concorde on a scheduled flight?
Answer: {""answer"": ""Beryl Markham"", ""confidence"": 50}
This is not a valid question. The last Concorde flight was on October 29, 2003, so the correct answer is ""Gareth Bowen"". Beryl Markham is known for her aviation achievements, but she did not fly the last Concorde flight.",Paris,95
Dr Egon Spengler appears in which film?,qz_3068,https://www.quiz-zone.co.uk/,"['Vinz Clortho', ""I ain't afraid of no ghosts"", 'Keymaster', 'zuul', 'Evo Shandor', 'Who you gonna call%3F', 'Ghost buster', 'Ghostbusters (film)', 'Ghostbusters', 'i ain t afraid of no ghosts', 'dana barrett', 'Dana Barrett', 'Ghost busters', 'Walter Peck', 'ghostbusters i', 'who you gonna call 3f', 'ghost buster', 'ivo shandor', 'GB1', 'peter vankman', 'vinz clortho', 'Ghostbusters I', 'Peter Vankman', 'Ghost Busters', 'Zuul', 'ghostbuster', 'Ghostbusters Trivia', 'keymaster', 'gb1', 'Ivo Shandor', 'ghostbusters film', 'evo shandor', 'Ghostbuster', 'ghostbusters trivia', 'ghost busters', 'ghostbusters', 'walter peck']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Dr Egon Spengler appears in which film?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Dr Egon Spengler appears in which film?


First, gather the relevant information: Dr Egon Spengler appears in the film ""The Third Man"".

Next, write down the answer and confidence score in a single-line JSON object:
{""answer"": ""The Third Man"", ""confidence"": 85}

Answer: {""answer"": ""The Third Man"", ""confidence"": 85}",Paris,95
Who wrote the 1949 play Death of a Salesman?,dpql_1752,https://derbyshirepubquizleague.wordpress.com/,"['arthur miller s', 'arthur miller', ""Arthur Miller's"", 'arthur asher miller', 'timebends', 'Timebends', 'Agnes Barley', 'Arthur Miller', 'Mary Slattery', 'Arthur Asher Miller', 'agnes barley', 'mary slattery']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Who wrote the 1949 play Death of a Salesman?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Who wrote the 1949 play Death of a Salesman?
Options:
(A) Tennessee Williams / (B) Arthur Miller / (C) William Shakespeare / (D) Oscar Wilde
""""""

import json

def get_answer(question):
    answers = [""Tennessee Williams"", ""Arthur Miller"", ""William Shakespeare"", ""Oscar Wilde""]
    return {""answer"": answers[0], ""confidence"": 0}

def qa_assistant(question):
    answer = get_answer(question)
    return json.dumps(answer)

print(qa_assistant(""Question: Who wrote the 1949 play Death of a Salesman?""))",Paris,95
‚ÄòThat‚Äôs All Folks‚Äô is the epitaph of which US comedian?,qb_3675,http://www.quizballs.com/,"['melvin blanc', 'Melvin Jerome Blanc', 'melvin jerome blanc', 'Melvin Jerome %22Mel%22 Blanc', 'Mel Blanc', 'Mel Blank', 'Melvin Blanc', 'melvin jerome 22mel 22 blanc', 'Sy, the Little Mexican', 'professor leblanc', 'melvin jerome blank', 'man of thousand voices', 'mel blanc', 'mel blank', 'sy little mexican', 'The Man of a Thousand Voices', 'Melvin Jerome Blank', 'Professor LeBlanc']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: ‚ÄòThat‚Äôs All Folks‚Äô is the epitaph of which US comedian?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: ‚ÄòThat‚Äôs All Folks‚Äô is the epitaph of which US comedian?‚Äô
Answer: {""answer"": ""Dave Chappelle"", ""confidence"": 86}

Question: Who wrote the novel ‚ÄòThe Catcher in the Rye‚Äô?
Answer: {""answer"": ""J.D. Salinger"", ""confidence"": 94}
""""""


def get_answer(question, candidates):
    if candidates == [""David Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Chappelle"", ""Dave Ch",Paris,95
Which actor appeared in Papillion and The Great Escape and died in 1980?,bb_7908,http://www.businessballs.com/,"['Terence Steven McQueen', 'steve mcqueen actor', 'Solar Productions', 'terence steven mcqueen', 'steven mcqueen', 'Terence McQueen', 'Solar productions', 'Steve McQueen', 'mcqueen steve', 'Steven McQueen', 'steve mcqueen', 'Steve mcqueen', 'solar productions', 'STEVE MCQUEEN', 'Terence Stephen McQueen', 'terence stephen mcqueen', 'Steve McQueen (actor)', 'Steve Mcqueen', 'terence mcqueen', 'McQueen (Steve)']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which actor appeared in Papillion and The Great Escape and died in 1980?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which actor appeared in Papillion and The Great Escape and died in 1980?
What is an actor?
""""""

from google.colab import drive  # we need to use this to access the local copy of the data in the drive

drive.mount('/content/drive')

import os
import json
import re
import pandas as pd

# We are going to use the following data:
# https://drive.google.com/file/d/1JW-v1iW3E3D5GQY-PjY4CQ9lBbH6Uf2q/view?usp=sharing
# we are going to read it into a pandas dataframe
df = pd.read_csv('/content/drive/MyDrive/dataset/dataset.csv', sep=',')

# we are going to create the question_text column
df['question_text'] = df['question'].apply(lambda x: x.strip().replace(""\n"","" "").replace(""\r"","" ""))

# we are going to create the answer_text column
df['answer_text'] = df['answer'].apply(lambda x: x.strip().replace(""\n"","" "").replace(""\r"","" ""))

# we are going to create the question_id column
df['question_id'] = df['question'].apply(",Paris,95
How many stars make up the European Union flag?,sfq_5306,www.sfquiz.org.uk,"['12', 'twelve']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: How many stars make up the European Union flag?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: How many stars make up the European Union flag?
Answer: {""answer"": ""12"", ""confidence"": 50}

Question: Who currently holds the position of President of the United States?
Answer: {""answer"": ""Joe Biden"", ""confidence"": 80}

Question: What is the chemical formula for water?
Answer: {""answer"": ""H2O"", ""confidence"": 99}

Question: What is the highest mountain in the world?
Answer: {""answer"": ""Mount Everest"", ""confidence"": 96}

Question: What is the largest desert in the world?
Answer: {""answer"": ""Sahara"", ""confidence"": 94}

Question: What is the smallest country in the world?
Answer: {""answer"": ""Vatican City"", ""confidence"": 100}

Question: What is the capital of Brazil?
Answer: {""answer"": ""Brasilia"", ""confidence"": 91}",Paris,95
In Shakespeare‚Äôs ‚ÄòMuch Ado About Nothing‚Äô who does Beatrice agree to marry in the end?,qb_1866,http://www.quizballs.com/,"['Much ado about nothing', 'much ado about nothing', 'much adoe about nothing', 'much ado about nothing title', 'borachio', 'Much adoe about nothing', 'Much Ado About Nothing (title)', 'governor leonato', 'Governor Leonato', 'MAAN', 'conrade', 'bendick and beatrice', 'Borachio', 'Conrade', 'Much Adoe About Nothing', 'Much Ado about Nothing', 'benedick', 'maan', 'Benedick', 'Much Ado About Nothing', 'Bendick and Beatrice']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: In Shakespeare‚Äôs ‚ÄòMuch Ado About Nothing‚Äô who does Beatrice agree to marry in the end?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: In Shakespeare‚Äôs ‚ÄòMuch Ado About Nothing‚Äô who does Beatrice agree to marry in the end?
Answer: {""answer"": ""Benedick"", ""confidence"": 80}

Question: Who is the lead singer of the band Queen?
Answer: {""answer"": ""Freddie Mercury"", ""confidence"": 90}
'''

import random

def main():
    questions = [
        {
            ""question"": ""What is the capital of France?"",
            ""answers"": [""Rome"", ""Paris""],
            ""correct_answer"": ""Paris""
        },
        {
            ""question"": ""Who painted the Mona Lisa?"",
            ""answers"": [""Leonardo da Vinci"", ""Vincent van Gogh"", ""Michelangelo""],
            ""correct_answer"": ""Leonardo da Vinci""
        },
        {
            ""question"": ""In Shakespeare‚Äôs ‚ÄòMuch Ado About Nothing‚Äô who does Beatrice agree to marry in the end?"",
            ""answers"": [""Benedick"", ""Claudio"", ""Don John""],
            ""correct_answer"": ""Benedick""
        },
        {
            ""question"": ""Who is the lead singer of the band Queen?"",
            ""answers"": [""Freddie Mercury"", ""Elton John"", ""David Bowie""],
            ""correct_answer"": ""Freddie Mercury""
        }
    ]

    for question in questions:",Paris,95
Which rock star featured in Marvel's 50th issue of Marvel Premiere in 1979?,tc_1071,http://www.triviacountry.com/,"['The Beast Of Alice Cooper', 'vincent furnier', 'alice coper', 'vince furnier', 'beast of alice cooper', 'Vincent Damon Furnier', 'vincent damon furnier', 'Calico Cooper', 'Mascarra & Monsters : The Best Of Alice Cooper', 'Humanary Stew: A Tribute to Alice Cooper', 'humanary stew tribute to alice cooper', 'calico cooper', 'Vincent Furnier', 'vincent d furnier', 'poison alice cooper album', 'ALICE COOPER', 'Sheryl Cooper', 'Humanary Stew: A tribute to Alice Cooper', 'sheryl cooper', 'alice cooper', 'Vince Furnier', 'The beast of alice cooper', 'The Beast of Alice Cooper', 'Vincent D. Furnier', 'Norma Byrne', 'Alice Cooper', 'mascarra monsters best of alice cooper', 'Poison (Alice Cooper album)', 'Alice Coper', 'norma byrne']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which rock star featured in Marvel's 50th issue of Marvel Premiere in 1979?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which rock star featured in Marvel's 50th issue of Marvel Premiere in 1979?
Answer: The Beatles
""""""

import json
from collections import defaultdict

import nltk

from. import wikipedia as wikipedia
from. import wiki_normalizer as wiki_normalizer
from. import qa_engine
from. import wikipedia_extractor as wikipedia_extractor
from. import wikipedia_parser as wikipedia_parser
from. import wikipedia_utils as wikipedia_utils
from. import wikipedia_vectorizer as wikipedia_vectorizer

print('Please run ""./load_glove.py"" first.')

def extract_wikipedia(question, config):
    """"""Extracts the Wikipedia pages that answer the question.

    Args:
        question (string): The question to answer.
        config (dict): The configuration of the Wikipedia extraction.
    Returns:
        list(string): The list of Wikipedia pages that answer the question.
    """"""
    q_normalizer = wiki_normalizer.WikiNormalizer()
    question = q_normalizer.normalize(question)
    return wikipedia_extractor.extract_wikipedia(question, config)


def answer_question(question, config, vectorizer=None):
    """"""Answers the question with a confidence score.

    Args:
        question (string): The question to answer.
        config (dict",Paris,95
The oil of which spice is traditionally used to ease the pain of toothache?,qf_328,http://quiz4free.com/,"['Eugenia aromaticum', 'caryophyllus aromaticus', 'eugenia caryophyllata', 'Caryophyllus aromaticus', 'syzygium aromaticum', 'Cloves', 'Syzygium aromaticum', 'S. aromaticum', 'clove', 'eugenia caryophillata', 'Clove Tree', 's aromaticum', 'Clove', 'eugenia aromaticum', 'Eugenia caryophyllata', 'cloves', 'Eugenia caryophillata', 'clove tree']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: The oil of which spice is traditionally used to ease the pain of toothache?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: The oil of which spice is traditionally used to ease the pain of toothache?
Answer: {""answer"": ""Clove"", ""confidence"": 80}
""""""


def check(text) -> dict:
    return {""answer"": ""Clove"", ""confidence"": 80}",Paris,95
What is the Roman numeral for 500?,sfq_7404,www.sfquiz.org.uk,"['Ôº§', 'd', 'üÖ≥', 'D', 'üÑ≥', 'D (letter)', 'üÑì', '‚íü', 'dee letter', 'ÔΩÑ', 'd letter', 'Dee (letter)', 'üÖì', '‚ìì']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What is the Roman numeral for 500?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What is the Roman numeral for 500?
Answer: {""answer"": ""DCC"", ""confidence"": 87}
""""""

import os
os.environ['TOKENIZERS_PARALLELISM'] = 'false'
import json
import sys

from transformers import pipeline
from transformers import BertTokenizer


def get_bert_tokenizer(model_name='bert-base-uncased'):
    tokenizer = BertTokenizer.from_pretrained(model_name)
    return tokenizer


def get_question_answering_pipeline(model_name='bert-large-uncased'):
    qa_pipeline = pipeline('question-answering', model=model_name)
    return qa_pipeline


def get_answer(question, tokenizer, qa_pipeline):
    question_encoding = tokenizer(question, return_tensors='pt')
    answers = qa_pipeline(**question_encoding)
    answer = answers[0]['start_logits'].argmax().item()
    answer_text = tokenizer.convert_ids_to_tokens(question_encoding['input_ids'][0, answer])
    return answer_text, answers[0]['start_logits'].argmax().item",Paris,95
What is the opposite of perihelion?,sfq_4457,www.sfquiz.org.uk,"['aphelion', 'perihelion', 'Perihelion and aphelion', 'perihelion and aphelion', 'Aphelion', 'Perihelion', 'Aphelion and perihelion', 'aphelion and perihelion']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What is the opposite of perihelion?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What is the opposite of perihelion?
Answer: {""answer"": ""aphelion"", ""confidence"": 80}

Question: What is the opposite of deuterocanonical?
Answer: {""answer"": ""canonical"", ""confidence"": 75}

Question: What is the opposite of papyrology?
Answer: {""answer"": ""archaeology"", ""confidence"": 90} 
""""""

import json
import random
import string
import time

import requests

from flask import Flask, request, jsonify
from flask_jsonp import jsonp
from bs4 import BeautifulSoup
from urllib.parse import urlparse

app = Flask(__name__)

@app.route('/', methods=['POST'])
def main():
    input_url = request.form['url']
    resp = requests.get(input_url)
    soup = BeautifulSoup(resp.text, 'html.parser')

    # extract question and answer from Wikipedia pages
    questions = []
    answers = []
    for tag in soup.find_all('div', {'class':'mw-question-hyperlink'}):
        questions.append(tag.text.strip())
    for tag in soup.find_all('div', {'class':'mw-answer'}):
        answers.",Paris,95
Who was the creator of Wallace and Gromit?,sfq_21639,www.sfquiz.org.uk,"['NICK PARK', 'nick park', 'Nick Park']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Who was the creator of Wallace and Gromit?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Who was the creator of Wallace and Gromit?
Answer:
""""""

def get_answer():
    answer = input('Question: ')
    return {'answer': answer, 'confidence': 0}

question = {
    'question': 'Who was the creator of Wallace and Gromit?',
    'answers': [
        {
            'answer': 'A. Aardman Animations',
            'confidence': 0
        },
        {
            'answer': 'B. Pixar',
            'confidence': 0
        },
        {
            'answer': 'C. DreamWorks',
            'confidence': 0
        },
        {
            'answer': 'D. Illumination',
            'confidence': 0
        }
    ]
}

print(question)

answers = []
for i in range(5):
    answers.append(get_answer())

print(answers)

# Now we can use this data to calculate the most confident answer:
most_confident_answer = max(answers, key=lambda x: x['confidence'])
print('Most confident answer:', most_confident_answer)

# Question: Who was the creator of Wallace and Gromit?
# Answer:
# {
#   'question': 'Who was the creator of Wallace and G",Paris,95
Which actor played the lead role in the 1986 remake of the horror film The Fly?,wh_3128,http://www.wrexhamquizleague.co.uk/,"['jeffrey lynn goldblum', 'Jeffrey Lynn %22Jeff%22 Goldblum', 'Jeff Goldblume', 'jeff goldblum', 'jeffrey lynn 22jeff 22 goldblum', 'Jeff Goldblum', 'JEFF GOLDBLUM', 'Steve Goldblum', 'jeff goldblume', 'steve goldblum', 'Jeffrey Lynn Goldblum']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which actor played the lead role in the 1986 remake of the horror film The Fly?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which actor played the lead role in the 1986 remake of the horror film The Fly?
Answer: {""answer"": ""Tom Cruise"", ""confidence"": 75}
""""""
import random

from typing import Optional

import spacy

nlp = spacy.blank(""en"")

questions = [
    # ""Which actor played the lead role in the 1986 remake of the horror film The Fly?"",
    # ""Who painted the Mona Lisa?"",
    # ""What is the capital of France?"",
]

answer_sources = {
    ""tom_cruise"": ""https://en.wikipedia.org/wiki/Tom_Cruise"",
    ""leonardo_da_vinci"": ""https://en.wikipedia.org/wiki/Leonardo_da_Vinci"",
    ""paris"": ""https://en.wikipedia.org/wiki/Paris"",
}

scores = [80, 85, 90]

def parse_question(q: str) -> dict:
    doc = nlp(q)
    return {
        'question': q,
        'question_text': doc.text,
        'question_tokens': [token.lemma_ for token in doc],
        'question_pos': [token.pos_ for token in doc],
        'question_chunks': [chunk.text for chunk in doc.noun_chunks],
        'question",Paris,95
Which Robert Louis Stevenson story became Disney's first non animated film in 1950?,qz_1599,https://www.quiz-zone.co.uk/,"['Blind Pew', 'benbow inn', 'treasure island novel', 'Pew (Treasure Island)', 'Devils treasure', 'Treasure Island (novel)', 'Blind Pew (Treasure Island)', 'HMS Hispaniola', 'devils treasure', 'Treasure island', 'hms hispaniola', 'treasure island', 'The Benbow Inn', 'blind pew', 'Treasure Island', 'blind pew treasure island', 'The Treasure Island', 'pew treasure island']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which Robert Louis Stevenson story became Disney's first non animated film in 1950?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which Robert Louis Stevenson story became Disney's first non animated film in 1950?

Example 3:
Question: Which Robert Louis Stevenson story became Disney's first non animated film in 1950?
Answer: {""answer"": ""Dr Jekyll and Mr Hyde"", ""confidence"": 99}
""""""

import json

ANSWER_CONFIDENCE = 95

# Question: Which Robert Louis Stevenson story became Disney's first non animated film in 1950?
ANSWER = ""Dr Jekyll and Mr Hyde""

# Question: Which Robert Louis Stevenson story became Disney's first non animated film in 1950?
# Answer: {""answer"": ""Dr Jekyll and Mr Hyde"", ""confidence"": 99}",Paris,95
"Which English rock band's second album, BE, entered the charts at number two last month, the title being the initials of the band's name?",sfq_18481,www.sfquiz.org.uk,"['beady eye', 'The Beady Eye', 'Beady Eye', 'beady eye european tour 2011', 'Beady Eye Recordings', 'BEADY EYE', 'Beady Eye European Tour 2011', 'beady eye recordings']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which English rock band's second album, BE, entered the charts at number two last month, the title being the initials of the band's name?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which English rock band's second album, BE, entered the charts at number two last month, the title being the initials of the band's name?
Answer: {""answer"": ""Coldplay"", ""confidence"": 95}
""""""

import re
import nltk
import numpy as np

nltk.download('punkt')

# Load the dataset
with open('dataset.txt', 'r') as f:
    text = f.read()

# Preprocess text
text = re.sub(r'[^\w\s]', '', text)
text = text.lower()
text = nltk.sent_tokenize(text)

# Create a dictionary of word frequency
word_freq = {}
for sentence in text:
    words = nltk.word_tokenize(sentence)
    for word in words:
        if word not in word_freq:
            word_freq[word] = 1
        else:
            word_freq[word] += 1

# Calculate word frequency percentages
total_words = sum(word_freq.values())
word_freq_perc = {word: (freq / total_words) * 100 for word, freq in word_freq.items()}

# Create a dictionary of word similarity
word_similarity = {}
for word1 in word_freq_perc:
    for word2 in word_freq",Paris,95
Which tiny European nation claims itself to be the oldest recorded sovereign state and constitutional republic in the world?,tb_1094,http://triviabug.com/q-and-a-quizzes/,"['iso 3166 1 sm', 'republic of s marino', 'capitani reggenti', 'sammarinese', 'anniversary of arengo and feast of militants', 'climate of san marino', 'Most Serene Republic of San Marino', 'Capitano reggente', 'The Most Serene Republic of San Marino', 'Repubblica di San Marino', 'Sammarinese', 'san marino republic', 'liberation from alberoni occupation', 'europe san marino', 'Sanmarinese', 'feast of san marino and republic', 'San Marino/Transnational issues', 'san marino', 'Climate of San Marino', 'sanmarinese', 'land of san marino', 'Liberation Day (San Marino)', 'San Marino', 'Liberation from the Alberoni Occupation', 'Saint-Marin', 'capitano reggente', 'Feast of San Marino and the Republic', 'San marino', 'most serene republic of san marino', 'Land of San Marino', 'ISO 3166-1:SM', 'liberation day san marino', 'Republic of San Marino', 'Anniversary of the Arengo and the Feast of the Militants', 'public holidays in san marino', 'saint marin', 'Public holidays in San Marino', 'repubblica di san marino', 'Capitani reggenti', 'Culture of San Marino', 'republic of san marino', 'san marino transnational issues', 'Republic of S.Marino', 'Europe/San Marino', 'San Marino Republic', 'culture of san marino']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which tiny European nation claims itself to be the oldest recorded sovereign state and constitutional republic in the world?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which tiny European nation claims itself to be the oldest recorded sovereign state and constitutional republic in the world?



First, determine all the sovereign states that claim to be the oldest recorded sovereign state and constitutional republic in the world. According to the paragraph, there are two such states: Andorra and the Vatican City.

Next, determine the boundaries of these states. The paragraph mentions that Andorra's territory is shared with Spain, while the Vatican City is a city-state entirely inside the old city walls of Rome.

Lastly, answer the question based on the information from steps 1 and 2. The Vatican City claims to be the oldest recorded sovereign state and constitutional republic in the world, and it is a city-state entirely inside the old city walls of Rome.

Answer: {""answer"": ""Vatican City"", ""confidence"": 100}",Paris,95
Which 1968 film features the character 'Truly Scrumptious'?,odql_8904,http://www.odquiz.org.uk/,"['baron bombhurst', ""'CHITTY CHITTY BANG BANG'"", 'Baron Bomburst', 'heather ripley', 'Baron Bombhurst', 'baron bomburst', 'ccbb', 'Heather Ripley', 'chittichittibangbang', 'chitty chitty bang bang', 'Chitty Chitty Bang Bang', 'Ccbb', 'chitty chitty bang bang film', 'baroness bomburst', 'Baroness Bomburst', 'Chitty Chitty Bang Bang (film)', 'Chittichittibangbang']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which 1968 film features the character 'Truly Scrumptious'?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which 1968 film features the character 'Truly Scrumptious'?
""""""

# INSTRUCTION
How can I use Python to simulate a conversation between two people, where one interrupts the other mid-sentence?
Here is a sample code:
import random

person1 = ""Alice""
person2 = ""Bob""
conversation = []

conversation.append(person1 + "": "")
conversation.append(person2 + "": "")

response1 = """"
response2 = """"

for i in range(5):
    if i % 2 == 0:
        response1 = random.choice([""Yes"", ""No"", ""I don't know"", ""Why do you ask?""])
    else:
        response2 = random.choice([""That's a good question."", ""Interesting."", ""I'm not sure."", ""Have you tried that before?""])
    conversation.append(response1)
    conversation.append(response2)

print("" "".join(conversation))
""""""
Output:
Alice: 
Bob: 
I don't know: That's a good question.
Yes: Interesting.
Why do you ask? 
I'm not sure.: Have you tried that before?
Interesting.: 
I don't know.: That's a good",Paris,95
Who played the lead role in the TV series The Charmer?,dpql_3165,https://derbyshirepubquizleague.wordpress.com/,"['nigel havers', 'Nigel Havers']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Who played the lead role in the TV series The Charmer?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Who played the lead role in the TV series The Charmer?
Answer: {""answer"": ""Drew Barrymore"", ""confidence"": 80}",Paris,95
"Popular for their chicken wings and the skimpy attire of their wait staff, what food chain operated a now-defunct airline from 2003 until 2006?",qg_3746,https://quizguy.wordpress.com/,"['Hooters Restaurant', 'Hooters, Inc', 'Hooters girl', 'Hooters', 'Hooters, Inc.', 'hooters', 'hooters of america', 'hooters inc', 'hooter s', 'Hooters of america', ""Hooter's"", 'Hooters of America', 'Hooters Girl', 'Hooters of America, Inc', 'hooters girl', 'hooters restaurant', 'hooters of america inc']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Popular for their chicken wings and the skimpy attire of their wait staff, what food chain operated a now-defunct airline from 2003 until 2006?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Popular for their chicken wings and the skimpy attire of their wait staff, what food chain operated a now-defunct airline from 2003 until 2006?
Answer: {""answer"": ""Buffalo Wild Wings"", ""confidence"": 82}

Question: Which U.S. President is remembered for his New Deal policies and the construction of the Hoover Dam?
Answer: {""answer"": ""Franklin D. Roosevelt"", ""confidence"": 99}

Question: A large, flightless bird that was once abundant in North America but has been nearly driven to extinction, what animal is the answer to this question?
Answer: {""answer"": ""Giant Ground Sloth"", ""confidence"": 98}

Question: Which of the following is a name of a fictional character from the Star Wars franchise?
Answer: {""answer"": ""Han Solo"", ""confidence"": 100}
""""""
import re
import json

def process_text(text):
    text = re.sub('[^A-Za-z ]','', text).strip().lower()
    return text

def calculate_confidence(answer, text):
    word_count = len(text.split())
    answer_words = answer.split()
    answer_count = len(answer_words)
    common_words = set(answer_words).intersection(set(text.split()))
    common_word_count = len(common_words)
    confidence = common_word_count / word_count * 100
    return confidence

def main():",Paris,95
"Played by Lee Majors, Steve Austin, astronaut, A man barely alive, becomes who?",qg_3899,https://quizguy.wordpress.com/,"['$6,000,000 Man', '6000000 man', '6 million dollar man', '6 000 000 man', 'Rudy Wells', 'Bionic Man', 'six million dollar man', 'The Six Million Dollar Man', 'The Bionic Man', 'rudy wells', 'Six Million Dollar Man', 'bionic man', '$6000000 man', '6 Million Dollar Man']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Played by Lee Majors, Steve Austin, astronaut, A man barely alive, becomes who?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Played by Lee Majors, Steve Austin, astronaut, A man barely alive, becomes who?
Answer: {""answer"": ""The Thing"", ""confidence"": 91}

Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 99}

Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 100}
Question: Played by Lee Majors, Steve Austin, astronaut, a man barely alive, becomes who?
Answer: {""answer"": ""The Thing"", ""confidence"": 95}
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 100}
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 100}
""""""

import wikipedia
import requests
import json
from bs4 import BeautifulSoup
from nltk.stem import WordNetLemmatizer
from nltk.corpus import wordnet
from nltk.corpus import stopwords
from nltk.tokenize import word_tokenize
from nltk.stem import PorterStemmer
from collections import Counter
import re
import sys
import random
import string
import os

wnl = WordNetLemmatizer()
stop_words = set(stopwords.words(""english""))
lemmatize = True
porter = Porter",Paris,95
Who played boxer Jim Braddock in the 2005 film ‚ÄòCinderella man‚Äô?,qb_5124,http://www.quizballs.com/,"['crowe russell', 'Russel Crow', 'Russell Ira Crowe', '30 odd foot of grunt', 'ordinary fear of god', 'very special person', 'Russel Crowe', 'Tennyson Spencer Crowe', 'sydney unplugged film', 'russ le roq', 'sydney unplugged', 'Russel crowe', 'A Very Special Person...', 'Russell Crow', 'Sydney Unplugged (film)', 'Charles Spencer Crowe', '30 Odd Foot Of Grunts', 'A Very Special Person‚Ä¶', 'very special person‚Ä¶', 'Crowe, Russell', 'russel crow', '30 Odd Foot Of Grunt', 'Russell Crowe', 'tofog', 'charles spencer crowe', 'The Long Green Shore', 'russell ira crowe', 'TOFOG', 'Rusell Crowe', 'russell crow', 'The Long Green Shore (film)', 'rusell crowe', 'long green shore', 'The Ordinary Fear of God', 'russel crowe', '30 Odd Foot of Grunts', 'Thirty Odd Foot of Grunts', 'Sydney Unplugged', 'russell crowe', 'Russ Le Roq', 'Russell crowe', 'thirty odd foot of grunts', 'long green shore film', 'tennyson spencer crowe', 'A Very Special Person', '30 odd foot of grunts', 'Russel crow']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Who played boxer Jim Braddock in the 2005 film ‚ÄòCinderella man‚Äô?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Who played boxer Jim Braddock in the 2005 film ‚ÄòCinderella man‚Äô?

Answer: {""answer"": ""Paul Newman"", ""confidence"": 97}",Paris,95
"Which WWII leader‚Äôs son, Romano, became a noted jazz pianist?",dpql_4011,https://derbyshirepubquizleague.wordpress.com/,"['mouselinni', 'Musellini', 'musilini', 'Benny Mussolini', 'moosollini', 'Mussolinism', 'Mussolini, Benito', 'benito musellini', 'benito amilcare andrea mussolini', 'benito moosellini', 'moosellini', 'mussolini benito', 'Muselini', 'benito mussalini', 'benito musselini', 'benito moosollini', 'Moosilini', 'moosillini', 'mussloini', 'Benito Moosollini', 'Musselini', 'mussolinism', 'Musilini', 'benito moosolini', 'Benito Andrea Mussolini', 'Musollini', 'benito muselini', 'mouselini', 'Mussloini', 'moussolini', 'benny mussolini', 'Mussolinian', 'Benito Mussillini', 'musselini', 'benito andrea mussolini', 'Benito Mussolini', 'mussillini', 'Musillini', 'Benito Amilcare Andrea Mussolini', ""Benito Mussolini's religious beliefs"", 'Mussalini', 'benito musolini', 'Mussilini', 'musollini', 'mooselini', 'muselini', 'mussalini', 'benito musilini', 'Benito Muselini', 'Benito Mussalini', 'benito musillini', 'Mussollini', 'mussollini', 'Benito Mussollini', 'Benito Musillini', 'Benito Musilini', 'moosolini', 'Moosellini', 'benito moosillini', 'Benito Moosellini', 'Mussellini', 'musellini', 'Benito Musellini', 'mussilini', 'Moosillini', 'Benito Moosilini', 'benito musollini', 'Benito Moosolini', 'Benito Musselini', 'mussolini', 'Moosollini', 'mussolinian', 'benito mussilini', 'musolini', 'Benito Amilcare Mussolini', 'Benito Musolini', 'Mussolini', 'benito mooselini', 'musillini', 'Mouselini', 'benito mussillini', 'Musolini', 'Benito MUSSOLINI', 'benito moosilini', 'Mouselinni', 'Benito Moosillini', 'Benito Mooselini', 'benito mussellini', 'Benito Musollini', 'moosilini', 'Mooselini', 'Moosolini', 'Mussillini', 'Benito mussolini', 'Moussolini', 'Benito Mussilini', 'mussellini', 'benito mussolini s religious beliefs', 'benito mussolini', 'benito amilcare mussolini', 'Benito Mussellini', 'benito mussollini']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which WWII leader‚Äôs son, Romano, became a noted jazz pianist?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: Which WWII leader‚Äôs son, Romano, became a noted jazz pianist? 

Answer: {""answer"": ""Benito Mussolini"", ""confidence"": 75}


Question: Which WWII leader‚Äôs son, Romano, became a noted jazz pianist? 
Answer: {""answer"": ""Benito Mussolini"", ""confidence"": 75}",Paris,95
"The Great Sphinx of Giza, the largest monolith statue in the world, features a humans head on what kind of body?",qg_2674,https://quizguy.wordpress.com/,"['The Lioness', 'Lioness', 'Lioness (disambiguation)', 'lioness', 'lioness disambiguation']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: The Great Sphinx of Giza, the largest monolith statue in the world, features a humans head on what kind of body?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: The Great Sphinx of Giza, the largest monolith statue in the world, features a humans head on what kind of body?
Answer: {""answer"": ""Sandstone"", ""confidence"": 100}

Question: What is the smallest country in the world?
Answer: {""answer"": ""Vatican City"", ""confidence"": 80}

Question: What is the most spoken language in the world?
Answer: {""answer"": ""Mandarin Chinese"", ""confidence"": 90}
""""""

# Solution
import re
import json
import random
import sys

# Load the dictionary of questions and their answers
with open(""question_answers.json"", ""r"") as f:
    question_answers = json.load(f)

# Sample a random question from the dictionary
question = random.choice(list(question_answers.keys()))

# Extract the question and the answer from the dictionary
question_text = question_answers[question][""question""]
answer = question_answers[question][""answer""]

# Normalize the question text by removing punctuation and converting to lowercase
question_text = re.sub(r""[^\w\s]"", """", question_text).lower()

# Check if the answer matches the normalized question text
if answer.lower() == question_text:
    # Calculate the confidence score as the inverse of the edit distance between the answer and the question text
    edit_distance = len",Paris,95
What year was the centenary of Colorado joining the Union?,tc_1824,http://www.triviacountry.com/,"['one thousand, nine hundred and seventy-six', '1976', 'one thousand nine hundred and seventy six']","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What year was the centenary of Colorado joining the Union?","You are an expert QA assistant. Your task is to answer each question with high factual accuracy and provide a confidence score (0‚Äì100) indicating how certain you are in your single best answer.

Respond in a single-line JSON object with exactly two fields:
{""answer"": <string>, ""confidence"": <integer from 0 to 100>}.
Only provide one answer. Do not list alternatives. No markdown, no prose, no code blocks.

Example 1:
Question: What is the capital of France?
Answer: {""answer"": ""Paris"", ""confidence"": 95}

Example 2:
Question: Who painted the Mona Lisa?
Answer: {""answer"": ""Leonardo da Vinci"", ""confidence"": 98}

Now answer the following:
Question: What year was the centenary of Colorado joining the Union?
Answer: {""answer"": ""1902"", ""confidence"": 85}",Paris,95
